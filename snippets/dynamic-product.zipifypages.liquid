{%- comment -%}
  Updated: 09/29/2021
  This file is system-generated and should not be modified
  We reserve the right to overwrite it at any moment to add improvements or new features so that customizations you made might be lost
  Please, read through this article to make sure that your customizations will be preserved: https://help.zipify.com/en/articles/877075-zipify-pages-advanced-work-with-buy-box-blocks
{%- endcomment -%}{% if renderscope == 'metafield' %}{% assign zp_render_products_from_metafield = true %}{% assign zp_render_products_from_tag = false %}{% else %}{% assign zp_render_products_from_metafield = false %}{% assign zp_render_products_from_tag = true %}{% endif %}{% if zp_render_products_from_metafield %}{% if zp_current_entity_metafields['config'].type == 'json' %}{% assign zp_entity_products = zp_current_entity_metafields['config'].value['products'] %}{% else %}{% assign zp_entity_products = zp_current_entity_metafields['config']['products'] %}{% endif %}{% else %}{% assign zp_entity_products = zp_current_entity_content | split: '<zpdproduct ' %}{% assign zp_current_entity_content = '' %}{% endif %}{% if zp_product_image_size == nil %}{% assign zp_current_product_image_size = '1080x' %}{% else %}{% assign zp_current_product_image_size = zp_product_image_size %}{% endif %}{% assign zp_empty_image_src = 'no-image.gif' | img_url: zp_current_product_image_size %} 
{%- for zp_part in zp_entity_products -%}{% if zp_render_products_from_metafield %}{% assign zp_product_block_marker = zp_part | first %}{% assign zp_current_product_settings = zp_part | last %}{% assign zp_product_content_parts_size = 2 %}{% else %}{% assign zp_product_content = zp_part | append: ' ' | split: '</zpdproduct>' %}{% assign zp_product_content_parts_size = zp_product_content | size %}{% endif %} 
  {%- if zp_product_content_parts_size < 2 -%}
    {% assign zp_current_entity_content = zp_current_entity_content | append: zp_part %} 
  {%- else -%}
    {% assign zp_display_product_markup = false %}{% assign zp_product_as_current_entity = false %}{% assign zp_product_handle = '' %}{% assign zp_selected_variants = '' %}{% assign zp_selected_variants_list = '' %}{% assign zp_product_default_quantity = '1' %}{% assign zp_product_show_quantity = true %}{% assign zp_product_link_type = 'cart' %}{% assign zp_redirect_product_url = routes.cart_url %}{% assign zp_product_type = 'base' %}{% assign zp_product_add_to_cart_msg = 'Product has been added to cart' %}{% assign zp_product_button_link_target = '_self' %}{% assign zp_product_image_type = 'product' %}{% assign zp_product_discount_data = '' %}{% assign zp_product_block_id = '' %}{% assign zp_product_element_id = nil %}{% assign zp_product_add_to_cart_classes = '' %}{% assign zp_product_message_wrapper_classes = '' %}{% assign zp_product_variant_selector_label_classes = '' %}{% assign zp_product_quantity_selector_label_classes = '' %}{% assign zp_product_variant_selector_view = 'vt' %}{% assign zp_product_image_sizes_data = '' %}{% assign zp_product_form_classes = '' %}{% assign zp_product_view_type = 'dynamicbuybox' %}{% assign zp_product_static_price_content = '' %}{% assign zp_product_static_compare_price_content = '' %}{% assign zp_product_preload_variant_images = false %}{% assign zp_product_load_main_image = true %}{% assign zp_product_show_quantity_label = true %}{% assign zp_product_show_variant_selector_label = true %}{% assign zp_product_unit_price_tag_included = false %}{% assign zp_product_image_lazy_load = false %}{% assign zp_product_calculate_bundle_price = false %}{% assign zp_use_general_product_image_container = false %}{% assign zp_product_sold_out_view_enabled = false %}{% assign zp_update_external_product_price = false %}{% assign zp_product_variant_selector_wrapper_classes = '' %}{% assign zp_product_option_settings = nil %}{% if zp_render_products_from_metafield %}{% assign zp_product_settings_keys = zp_current_product_settings %}{% capture zp_dynamic_product_block_closed_tag %}</zpdprdct_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_dynamic_product_block_schema_marker = '<zpprdmrkp></zpprdmrkp>' | append: zp_dynamic_product_block_closed_tag %}{% if zp_current_entity_content contains zp_dynamic_product_block_schema_marker %}{% assign zp_display_product_markup = true %}{% else %}{% assign zp_display_product_markup = false %}{% endif %}{% else %}{% if zp_product_content[0] contains '<zpprdmrkp></zpprdmrkp>' %}{% assign zp_product_content[0] = zp_product_content[0] | remove: '<zpprdmrkp></zpprdmrkp>' %}{% assign zp_display_product_markup = true %}{% else %}{% assign zp_display_product_markup = false %}{% endif %}{% assign zp_product_content_parts = zp_product_content[0] | append: ' ' | split: '>' %}{% assign zp_product_settings = zp_product_content_parts[0] %}{% assign zp_product_settings_tmp = zp_product_settings | append: '>' %}{% assign zp_product_content_parts = zp_product_content_parts | join: '>' | remove_first: zp_product_settings_tmp %}{% assign zp_product_settings = ' ' | append: zp_product_settings | split: ' data-' %}{% assign zp_product_settings_keys = '' %}{% assign zp_product_settings_values = '' %}{% for zp_product_setting in zp_product_settings %}{% assign zp_product_setting_parts = zp_product_setting | split: '=' %}{% if zp_product_setting_parts.size < 2 %}{% continue %}{% endif %}{% assign zp_product_setting_key = '' | append: zp_product_setting_parts[0] | strip %}{% if zp_product_setting_key.size < 1 %}{% continue %}{% endif %}{% assign zp_product_settings_keys = zp_product_settings_keys | append: zp_product_setting_key | append: '__zp1637066348__' %}{% assign zp_product_setting_size = zp_product_setting | size %}{% assign zp_product_setting_key_size = '' | append: zp_product_setting_parts[0] | size | plus: 1 %}{% assign zp_product_setting_value = '' | append: zp_product_setting | slice: zp_product_setting_key_size, zp_product_setting_size | strip %}{% assign zp_product_setting_value_last_index = zp_product_setting_value | size | minus: 1 %}{% assign zp_product_setting_value_first_letter = zp_product_setting_value | first %}{% if zp_product_setting_value_first_letter == '"' or zp_product_setting_value_first_letter == "'" %}{% assign zp_product_setting_value = zp_product_setting_value | slice: 1, zp_product_setting_value_last_index %}{% endif %}{% assign zp_product_setting_value_last_index = zp_product_setting_value | size | minus: 1 %}{% assign zp_product_setting_value_last_letter = zp_product_setting_value | last %}{% if zp_product_setting_value_last_letter == '"' or zp_product_setting_value_last_letter == "'" %}{% assign zp_product_setting_value = zp_product_setting_value | slice: 0, zp_product_setting_value_last_index %}{% endif %}{% assign zp_product_settings_values = zp_product_settings_values | append: zp_product_setting_value | append: '__zp1637066348__' %}{% endfor %}{% assign zp_product_settings_keys = zp_product_settings_keys | split: '__zp1637066348__' %}{% assign zp_product_settings_values = zp_product_settings_values | split: '__zp1637066348__' %}{% assign zp_product_settings = nil %}{% assign zp_product_settings_tmp = nil %}{% assign zp_product_setting_parts = nil %}{% endif %}{% for zp_product_setting_key_data in zp_product_settings_keys %}{% if zp_render_products_from_metafield %}{% assign zp_product_setting_key = zp_product_setting_key_data | first %}{% assign zp_product_setting_value = zp_product_setting_key_data | last | strip %}{% else %}{% assign zp_product_setting_key = zp_product_setting_key_data %}{% assign zp_product_setting_value = '' | append: zp_product_settings_values[forloop.index0] | strip %}{% endif %}{% if zp_product_setting_key == 'handle' %}{% assign zp_product_handle = zp_product_setting_value %}{% elsif zp_product_setting_key == 'slctvrnt' %}{% assign zp_selected_variants = zp_product_setting_value %}{% assign zp_selected_variants_list = zp_product_setting_value %}{% elsif zp_product_setting_key == 'qty' %}{% assign zp_product_default_quantity = zp_product_setting_value %}{% elsif zp_product_setting_key == 'shwqty' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_show_quantity = true %}{% else %}{% assign zp_product_show_quantity = false %}{% endif %}{% elsif zp_product_setting_key == 'btnltp' %}{% assign zp_product_link_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'url' %}{% assign zp_redirect_product_url = zp_product_setting_value | replace: '&amp;', '&' | url_escape | replace: '%23', '#' %}{% if zp_redirect_product_url contains 'https://www.amazon.com' %}{% assign zp_redirect_product_url = zp_redirect_product_url | replace: '%25', '%' %}{% endif %}{% elsif zp_product_setting_key == 'btncpt' %}{% assign zp_product_button_caption = zp_product_setting_value %}{% elsif zp_product_setting_key == 'stkbtncpt' %}{% assign zp_product_sticky_button_caption = zp_product_setting_value %}{% elsif zp_product_setting_key == 'type' %}{% assign zp_product_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'addcrtmsg' %}{% assign zp_product_add_to_cart_msg = zp_product_setting_value | url_escape %}{% elsif zp_product_setting_key == 'btnelt' %}{% assign zp_product_button_link_target = zp_product_setting_value %}{% elsif zp_product_setting_key == 'imgtp' %}{% assign zp_product_image_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'dscntdt' %}{% assign zp_product_discount_data = zp_product_setting_value %}{% elsif zp_product_setting_key == 'bid' %}{% assign zp_product_block_id = zp_product_setting_value %}{% elsif zp_product_setting_key == 'eid' %}{% assign zp_product_element_id = zp_product_setting_value %}{% elsif zp_product_setting_key == 'crtmsgcls' %}{% assign zp_product_add_to_cart_classes = zp_product_setting_value | url_escape %}{% elsif zp_product_setting_key == 'msgwrpcl' %}{% assign zp_product_message_wrapper_classes = zp_product_setting_value | url_escape %}{% elsif zp_product_setting_key == 'vrntcls' %}{% assign zp_product_variant_selector_classes = zp_product_setting_value | url_escape %}{% elsif zp_product_setting_key == 'vrntwcls' %}{% assign zp_product_variant_selector_wrapper_classes = zp_product_setting_value | url_escape %}{% elsif zp_product_setting_key == 'qtycls' %}{% assign zp_product_quantity_selector_label_classes = zp_product_setting_value %}{% elsif zp_product_setting_key == 'vrntsv' %}{% assign zp_product_variant_selector_view = zp_product_setting_value %}{% elsif zp_product_setting_key == 'imgszs' %}{% assign zp_product_image_sizes_data = zp_product_setting_value %}{% elsif zp_product_setting_key == 'frmcls' %}{% assign zp_product_form_classes = zp_product_setting_value %}{% elsif zp_product_setting_key == 'vtp' %}{% assign zp_product_view_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'stcprc' %}{% assign zp_product_static_price_content = zp_product_setting_value %}{% elsif zp_product_setting_key == 'stccprprc' %}{% assign zp_product_static_compare_price_content = zp_product_setting_value %}{% elsif zp_product_setting_key == 'optst' %}{% assign zp_product_option_settings = zp_product_setting_value %}{% elsif zp_product_setting_key == 'imgc' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_use_general_product_image_container = true %}{% endif %}{% elsif zp_product_setting_key == 'imgprld' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_preload_variant_images = true %}{% endif %}{% elsif zp_product_setting_key == 'mimgld' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_product_load_main_image = false %}{% endif %}{% elsif zp_product_setting_key == 'shwqtylb' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_product_show_quantity_label = false %}{% endif %}{% elsif zp_product_setting_key == 'shwvrntlb' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_product_show_variant_selector_label = false %}{% endif %}{% elsif zp_product_setting_key == 'crntentt' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_as_current_entity = true %}{% endif %}{% elsif zp_product_setting_key == 'unprcincl' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_unit_price_tag_included = true %}{% endif %}{% elsif zp_product_setting_key == 'lzld' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_image_lazy_load = true %}{% endif %}{% elsif zp_product_setting_key == 'sldtv' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_sold_out_view_enabled = true %}{% endif %}{% elsif zp_product_setting_key == 'bndlprc' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_product_calculate_bundle_price = true %}{% endif %}{% elsif zp_product_setting_key == 'extpupd' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_update_external_product_price = true %}{% endif %}{% endif %}{% endfor %}{% if zp_product_link_type == 'cart' %}{% assign zp_redirect_product_url = routes.cart_url %}{% endif %}{% if zp_product_as_current_entity %}{% assign zp_product_handle_size = 1 %}{% else %}{% assign zp_product_handle_size = zp_product_handle.size %}{% endif %}{% if zp_product_variant_selector_wrapper_classes.size > 0 %}{% assign zp_product_variant_selector_wrapper_classes = 'zp ' | append: zp_product_variant_selector_wrapper_classes %}{% endif %}{% if zp_render_products_from_tag and zp_product_option_settings != empty %}{% assign zp_product_option_settings = zp_product_option_settings | replace: '&quot;', '"' %}{% endif %}{% assign zp_first_selected_variant = nil %}{% assign zp_first_available_variant = nil %}{% assign zp_any_product_variant_available = false %}{% assign zp_current_product_price = nil %}{% assign zp_product_init_script = '' %}{% assign zp_product_additional_integrations = '' %}{% assign zp_product_form_open_tag = '' %}{% assign zp_product_form_closed_tag = '' %}{% assign zp_unavailable_product_class = ' hidden' %}{% assign zp_unavailable_product_block_wrapper_class = '' %}{% assign zp_unavailable_linked_block_class = ' hidden' %}{% assign zp_unavailable_discount_class = '' %}{% assign zp_product_variants_container = '' %}{% assign zp_product_quantity_container = '' %}{% assign zp_product_button_type = 'button' %}{% assign zp_product_button_integrations = '' %}{% assign zp_product_button_messages = '' %}{% assign zp_product_image = zp_empty_image_src %}{% assign zp_product_image_data_attrs = '' %}{% assign zp_product_wrapper_selector = '' %}{% assign zp_formatted_product_price = nil %}{% assign zp_formatted_product_compare_at_price = nil %}{% assign zp_unavailable_quantity_class = ' hidden' %}{% capture zp_product_button_text %}{% assign zp_translation = 'products.product.unavailable' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Unavailable" %}{% endif %}{{ zp_translation }}{% endcapture %}{% capture zp_product_sticky_button_text %}{% assign zp_translation = 'products.product.unavailable' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Unavailable" %}{% endif %}{{ zp_translation }}{% endcapture %}{% assign zp_sale_price = nil %}{% assign zp_product_sale_price = nil %}{% assign zp_product_saved_amount = nil %}{% assign zp_product_discount_amount = nil %}{% assign zp_formatted_product_sale_price = nil %}{% assign zp_formatted_product_saved_amount = nil %}{% assign zp_formatted_product_discount_amount = nil %}{% assign zp_product_image_loader_content = '' %}{% assign zp_current_product_custom_variants = nil %}{% assign zp_product_unit_price = '' %}{% assign zp_product_unit_price_wrapper_class = ' hidden' %}{% assign zp_available_cross_sell_products_count = 0 %}{% assign zp_unavailable_cross_sell_wrapper_class = ' hidden' %}{% assign zp_product_unit_price_label = '' %}{% assign zp_product_unit_price_block = '' %}{% assign zp_cross_sell_config = nil %}{% if zp_use_current_entity_markup %}{% assign zp_product_custom_title = zp_current_entity.title %}{% assign zp_product_custom_description = zp_current_entity.description %}{% assign zp_product_custom_image = zp_current_product_settings['schm']['img'] %}{% else %}{% if zp_render_products_from_metafield %}{% assign zp_current_product_schema_config = zp_current_product_settings['schm'] %}{% else %}{% assign zp_current_product_schema_config = zp_current_entity_schema_config[zp_product_block_id] %}{% endif %}{% assign zp_product_custom_title = zp_current_product_schema_config['title'] %}{% assign zp_product_custom_description = zp_current_product_schema_config['descr'] %}{% assign zp_product_custom_image = zp_current_product_schema_config['img'] %}{% assign zp_current_product_schema_config = nil %}{% endif %}{% if zp_product_view_type == 'dynamicproductsection' %}{% assign zp_use_product_variant_from_url = true %}{% assign zp_product_entity_type = 'main' %}{% else %}{% assign zp_use_product_variant_from_url = false %}{% assign zp_product_entity_type = 'alt' %}{% endif %}{% if zp_show_variants_selectors_link_types contains zp_product_link_type %}{% assign zp_show_variants_selectors = true %}{% else %}{% assign zp_show_variants_selectors = false %}{% endif %}{% assign zp_enable_subscription_widget = zp_show_variants_selectors %}{% assign zp_product_iterator = zp_product_iterator | plus: 1 %}{% assign zp_product_selector = zp_main_product_selector | append: zp_product_iterator %}{% assign zp_product_wrapper_selector = zp_product_selector | append: zp_main_product_selector_suffix %} 
    {%- if zp_product_handle_size > 0 -%}{% if zp_product_as_current_entity %}{% assign product = zp_current_entity %}{% else %}{% assign product = all_products[zp_product_handle] %}{% endif %}{% assign zp_product_id_size = '' | append: product.id | size %}{% assign zp_product_found = true %}{% if zp_product_id_size < 1 %}{% assign product = nil %}{% assign zp_product_found = false %}{% endif -%}
      {%- capture zp_replace_integration -%}<zp_product_custom_variants_integration></zp_product_custom_variants_integration>{%- endcapture -%}{% assign zp_replace_integration = '' %}{% if zp_current_product_custom_variants == blank %}{% assign zp_current_product_custom_variants = product.variants %}{% endif %}{% if zp_selected_variants.size < 1 %}{% assign zp_selected_variants = zp_current_product_custom_variants | map: 'id' | join: ',' | split: ',' %}{% endif %}{% if zp_use_product_variant_from_url %}{% assign zp_url_selected_variant_id = '' | append: product.selected_variant.id %}{% else %}{% assign zp_url_selected_variant_id = '' %}{% endif %}{% assign zp_filtered_selected_variants = '' %}{% assign zp_first_selected_variant = nil %}{% assign zp_any_product_variant_available = false %}{% assign zp_basic_variant_ids = '' %}{% assign zp_bold_variant_ids = '' %}{% for zp_prd_variant in zp_current_product_custom_variants %}{% assign zp_variant_id = '' | append: zp_prd_variant.id %}{% if zp_integrate_with_bold_quantity_breaks and zp_integrate_with_bold_custom_pricing %}{% assign zp_basic_variant_ids = zp_basic_variant_ids | append: zp_variant_id | append: ',' %}{% assign zp_bold_variant_id = zp_prd_variant.metafields.shappify_csp['csp_base'] | default: zp_prd_variant.metafields.shappify_qb['qb_parent'] | default: zp_prd_variant.metafields.shappify_bundle['bundle_parent'] | default: 'notassigned' %}{% assign zp_bold_variant_ids = zp_bold_variant_ids | append: zp_bold_variant_id | append: ',' %}{% endif %}{% if zp_use_product_variant_from_url and zp_url_selected_variant_id == zp_variant_id and zp_selected_variants contains zp_url_selected_variant_id %}{% assign zp_first_selected_variant = zp_prd_variant %}{% endif %}{% if zp_selected_variants contains zp_variant_id %}{% assign zp_filtered_selected_variants = zp_filtered_selected_variants | append: zp_variant_id | append: ',' %}{% if zp_first_selected_variant == nil %}{% assign zp_first_selected_variant = zp_prd_variant %}{% endif %}{% if zp_prd_variant.available %}{% assign zp_any_product_variant_available = true %}{% endif %}{% endif %}{% endfor %}{% assign zp_selected_variants = zp_filtered_selected_variants | split: ',' %}{% if zp_selected_variants.size < 1 %}{% assign zp_selected_variants = zp_current_product_custom_variants | map: 'id' | join: ',' | split: ',' %}{% assign zp_any_product_variant_available = product.available %}{% if zp_use_product_variant_from_url and zp_selected_variants contains zp_url_selected_variant_id %}{% assign zp_first_selected_variant = product.selected_variant %}{% else %}{% assign zp_first_selected_variant = zp_current_product_custom_variants | first %}{% endif %}{% endif %}{% unless zp_first_selected_variant.available %}{% assign zp_first_available_variant = nil %}{% for zp_prd_variant in zp_current_product_custom_variants %}{% assign zp_variant_id = '' | append: zp_prd_variant.id %}{% if zp_selected_variants contains zp_variant_id and zp_prd_variant.available %}{% assign zp_first_available_variant = zp_prd_variant %}{% break %}{% endif %}{% endfor %}{% unless zp_first_available_variant == nil %}{% assign zp_first_selected_variant = zp_first_available_variant %}{% endunless %}{% assign zp_first_available_variant = nil %}{% endunless %}{% assign zp_variant_id = nil %}{% if zp_integrate_with_bold_quantity_breaks and zp_integrate_with_bold_custom_pricing %}{% assign zp_basic_variant_ids = zp_basic_variant_ids | split: ',' %}{% assign zp_bold_variant_ids = zp_bold_variant_ids | split: ',' %}{% assign zp_bold_variant_id = nil %}{% assign zp_variant_id = '' | append: zp_first_selected_variant.id %}{% for zp_prd_variant in zp_bold_variant_ids %}{% if zp_variant_id == zp_prd_variant %}{% assign zp_bold_variant_id = zp_basic_variant_ids[forloop.index0] %}{% break %}{% endif %}{% endfor %}{% if zp_bold_variant_id and zp_bold_variant_id != zp_variant_id %}{% assign zp_break_iterator = false %}{% for zp_prd_variant in product.variants %}{% if zp_break_iterator %}{% break %}{% endif %}{% assign zp_prd_variant_id = '' | append: zp_prd_variant.id %}{% if zp_prd_variant_id == zp_bold_variant_id %}{% assign zp_break_iterator = true %}{% if zp_integrate_with_bold_quantity_breaks == true %}{% include 'bold-variant' with zp_prd_variant, hide_action: 'skip' %}{% endif %}{% assign zp_first_selected_variant = zp_prd_variant %}{% break %}{% endif %}{% endfor %}{% endif %}{% endif %}{% assign zp_current_product_price = zp_first_selected_variant.price %}{% assign zp_product_featured_image = product.featured_image %}{% assign zp_product_default_image = zp_product_featured_image | img_url: 'master' %}{% assign zp_product_image_sizes_data_parts = '' | append: zp_product_image_sizes_data | split: ':|~|:' %}{% assign zp_product_image_src_set_string = '' %}{% assign zp_product_image_sizes_list_string = '' %}{% assign zp_product_image_sizes_json_string = '' %}{% assign zp_current_product_image_size = nil %}{% for zp_image_size_data in zp_product_image_sizes_data_parts %}{% assign zp_image_size_data_parts = '' | append: zp_image_size_data | split: ':--:' %}{% assign zp_image_screen_size = zp_image_size_data_parts[0] %}{% assign zp_image_resize_filter = zp_image_size_data_parts[1] %}{% if zp_image_screen_size.size > 0 and zp_image_resize_filter.size > 0 %}{% assign zp_product_image_url_with_filter = zp_product_featured_image | img_url: zp_image_resize_filter %}{% assign zp_image_screen_size_width = zp_image_screen_size | append: 'w' %}{% assign zp_product_image_src_set_string = zp_product_image_src_set_string | append: zp_product_image_url_with_filter | append: ' ' | append: zp_image_screen_size_width | append: '__zp1637066348__' %}{% assign zp_product_image_sizes_list_string = zp_product_image_sizes_list_string | append: zp_image_screen_size | append: 'px' | append: '__zp1637066348__' %}{% assign zp_image_screen_size_width_json = zp_image_screen_size_width | json %}{% assign zp_image_resize_filter_json = zp_image_resize_filter | json %}{% assign zp_product_image_sizes_json_string = zp_product_image_sizes_json_string | append: '{"filter":' | append: zp_image_resize_filter_json | append: ',"screen":' | append: zp_image_screen_size_width_json | append: '}' | append: '__zp1637066348__' %}{% unless zp_current_product_image_size %}{% assign zp_current_product_image_size = zp_image_resize_filter %}{% endunless %}{% endif %}{% endfor %}{% unless zp_current_product_image_size %}{% assign zp_current_product_image_size = '1080x' %}{% endunless %}{% assign zp_product_image_src_set = zp_product_image_src_set_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_product_image_sizes_list = zp_product_image_sizes_list_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_product_image_sizes_json = zp_product_image_sizes_json_string | split: '__zp1637066348__' | join: ',' | prepend: '[' | append: ']' %}{% assign zp_first_selected_variant_image_id = '' | append: zp_first_selected_variant.image.id | strip %}{% if zp_product_image_type == 'variant' and zp_show_variants_selectors == true and zp_first_selected_variant_image_id.size > 0 %}{% assign zp_product_featured_image = zp_first_selected_variant.image %}{% endif %}{% assign zp_product_image_srcset_available = true %}{% if zp_product_image_src_set.size < 1 %}{% assign zp_product_image_sizes_data = '1080:--:1080x:|~|:936:--:936x:|~|:774:--:774x:|~|:540:--:540x:|~|:350:--:350x' %}{% assign zp_product_image_sizes_data_parts = '' | append: zp_product_image_sizes_data | split: ':|~|:' %}{% assign zp_product_image_src_set_string = '' %}{% assign zp_product_image_sizes_list_string = '' %}{% assign zp_product_image_sizes_json_string = '' %}{% assign zp_current_product_image_size = nil %}{% for zp_image_size_data in zp_product_image_sizes_data_parts %}{% assign zp_image_size_data_parts = '' | append: zp_image_size_data | split: ':--:' %}{% assign zp_image_screen_size = zp_image_size_data_parts[0] %}{% assign zp_image_resize_filter = zp_image_size_data_parts[1] %}{% if zp_image_screen_size.size > 0 and zp_image_resize_filter.size > 0 %}{% assign zp_product_image_url_with_filter = zp_product_featured_image | img_url: zp_image_resize_filter %}{% assign zp_image_screen_size_width = zp_image_screen_size | append: 'w' %}{% assign zp_product_image_src_set_string = zp_product_image_src_set_string | append: zp_product_image_url_with_filter | append: ' ' | append: zp_image_screen_size_width | append: '__zp1637066348__' %}{% assign zp_product_image_sizes_list_string = zp_product_image_sizes_list_string | append: zp_image_screen_size | append: 'px' | append: '__zp1637066348__' %}{% assign zp_image_screen_size_width_json = zp_image_screen_size_width | json %}{% assign zp_image_resize_filter_json = zp_image_resize_filter | json %}{% assign zp_product_image_sizes_json_string = zp_product_image_sizes_json_string | append: '{"filter":' | append: zp_image_resize_filter_json | append: ',"screen":' | append: zp_image_screen_size_width_json | append: '}' | append: '__zp1637066348__' %}{% unless zp_current_product_image_size %}{% assign zp_current_product_image_size = zp_image_resize_filter %}{% endunless %}{% endif %}{% endfor %}{% unless zp_current_product_image_size %}{% assign zp_current_product_image_size = '1080x' %}{% endunless %}{% assign zp_product_image_src_set = zp_product_image_src_set_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_product_image_sizes_list = zp_product_image_sizes_list_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_product_image_sizes_json = zp_product_image_sizes_json_string | split: '__zp1637066348__' | join: ',' | prepend: '[' | append: ']' %}{% endif %}{% assign zp_product_image = zp_product_featured_image | img_url: zp_current_product_image_size %}{% if zp_product_load_main_image == false %}{% assign zp_product_image = '' %}{% endif %}{% if zp_product_preload_variant_images %}{% assign zp_product_image_loader_content = '<svg class="hidden" width="215px" height="150px" data-zp-image-loader><use xlink:href="#elementLoader"></use></svg>' %}{% endif %}{% if zp_product_image_type == 'custom' %}{% assign zp_product_image_lazy_load_available = false %}{% assign zp_product_image_srcset_available = false %}{% assign zp_product_image_srcset_sizes_available = false %}{% else %}{% assign zp_product_image_lazy_load_available = true %}{% assign zp_product_image_srcset_sizes_available = true %}{% endif %}{% capture zp_product_image_data_attrs %}{% if zp_product_image_lazy_load %}{% assign zp_product_image_load_attr_prefix = 'data-' %}{% else %}{% assign zp_product_image_load_attr_prefix = '' %}{% endif %}{% if zp_product_image_lazy_load and zp_product_image_lazy_load_available %} data-lowsrc="{{ zp_product_featured_image | img_url: '540x' }}" data-parent-fit="cover" data-aspectratio="16/9"{% endif %}{% if zp_product_image_srcset_sizes_available %} {% if zp_product_image_lazy_load and zp_product_image_lazy_load_available %}data-sizes="auto" sizes="{{ zp_product_image_sizes_list }}"{% else %}sizes="{{ zp_product_image_sizes_list }}"{% endif %}{% endif %}{% if zp_product_image_srcset_available and zp_product_load_main_image %} {{ zp_product_image_load_attr_prefix }}srcset="{{ zp_product_image_src_set }}"{% endif %} data-zp-product-image data-zp-product-image-type="{{ zp_product_image_type }}" data-zp-image-id="{{ zp_product_featured_image.id }}" data-zp-default-image="{{ zp_product_default_image }}"{% endcapture %}{% if zp_product_redirect_with_params == nil %}{% assign zp_current_product_redirect_with_params = false %}{% else %}{% assign zp_current_product_redirect_with_params = zp_product_redirect_with_params %}{% endif %} 
      {%- capture zp_product_soldout_integrations -%}{% capture zp_replace_integration %}<zp_product_soldout_integration></zp_product_soldout_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_soldout_integration>', '' | replace: '</zp_product_soldout_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}{% assign zp_product_form_closed_tag = zp_product_soldout_integrations %}{% assign zp_product_soldout_integrations = nil %} 
      {%- if zp_any_product_variant_available -%}
        {%- capture zp_product_form_classes_list %}{% if zp_integrate_with_bold_quantity_breaks == true %}shapp_qb_prod{% endif %} {{ zp_product_form_classes }} {{ zp_product_form_custom_classes }}{% endcapture -%}{% assign zp_product_form_classes_list = zp_product_form_classes_list | strip %}{% if zp_use_product_form_action %}{% assign zp_product_form_action_attr = '/cart/add' %}{% else %}{% assign zp_product_form_action_attr = nil %}{% endif %}{% if zp_use_product_form_id %}{% assign zp_product_form_id_default_val = 'zp_product_form_' | append: zp_product_iterator | append: '_' | append: product.id %}{% assign zp_product_form_id_attr = zp_product_form_id_val | default: zp_product_form_id_default_val %}{% else %}{% assign zp_product_form_id_attr = nil %}{% endif %}{% if zp_enable_subscription_widget %}{% assign zp_disable_subscription_widget_attr = nil %}{% else %}{% assign zp_disable_subscription_widget_attr = '' %}{% endif %}{%- capture zp_product_form_open_tag %}{% form 'product', product, id: zp_product_form_id_attr, action: zp_product_form_action_attr, class: zp_product_form_classes_list, data-zp-add-to-cart-form: '', data-zp-link-type: zp_product_link_type, data-zp-product-url: zp_redirect_product_url, data-productid: product.id, data-zp-redirect-with-url-params: zp_current_product_redirect_with_params, data-zp-disable-subscrptn-wdgt: zp_disable_subscription_widget_attr %}{% assign zp_product_form_closed_tag = '</form>' %}{% assign zp_product_form_classes = '' %}{% assign zp_product_form_classes_list = '' %}{% assign zp_unavailable_product_class = '' %}{% if zp_show_variants_selectors and zp_product_show_quantity %}{% assign zp_unavailable_quantity_class = '' %}{% else %}{% assign zp_unavailable_quantity_class = ' hidden' %}{% endif %}{% if zp_include_bold_snippets_link_types contains zp_product_link_type %}{% assign zp_include_bold_snippets = true %}{% else %}{% assign zp_include_bold_snippets = false %}{% endif %}{% if zp_include_bold_snippets == true and zp_app_integrations contains 'productoptionsbybold' %}{% assign zp_integrate_with_bold_product_options = true %}{% else %}{% assign zp_integrate_with_bold_product_options = false %}{% endif %}{% if zp_include_bold_snippets == true and zp_app_integrations contains 'quantitybreaksbybold' %}{% assign zp_integrate_with_bold_quantity_breaks = true %}{% else %}{% assign zp_integrate_with_bold_quantity_breaks = false %}{% endif %}{% if zp_app_integrations contains 'subscriptionsbybold' %}{% assign zp_integrate_with_bold_subscriptions = true %}{% else %}{% assign zp_integrate_with_bold_subscriptions = false %}{% endif %}{% assign zp_product_button_type = 'submit' %} 
        {%- if zp_render_products_from_tag and zp_product_content_parts contains zp_opened_cross_sell_tag -%}{% assign zp_product_with_cross_sell_tag = true %}{%- else -%}{% assign zp_product_with_cross_sell_tag = false %}{%- endif -%}{%- if zp_show_variants_selectors -%}{% if zp_render_products_from_metafield %}{% assign zp_cross_sell_content_parts = zp_current_product_settings['crsslls'] %}{% else %}{% assign zp_cross_sell_content_parts = zp_product_content_parts | split: zp_opened_cross_sell_tag %}{% assign zp_product_content_parts = '' %}{% endif %}{% for zp_cross_sell_content_part in zp_cross_sell_content_parts %}{% if zp_render_products_from_metafield %}{% assign zp_cross_sell_block_marker = zp_cross_sell_content_part | first %}{% assign zp_current_cross_sell_settings = zp_cross_sell_content_part | last %}{% assign zp_cross_sell_content_parts_size = 2 %}{% else %}{% assign zp_cross_sell_content = zp_cross_sell_content_part | append: ' ' | split: zp_closed_cross_sell_tag %}{% assign zp_cross_sell_content_parts_size = zp_cross_sell_content | size %}{% endif %}{% if zp_cross_sell_content_parts_size < 2 %}{% assign zp_product_content_parts = zp_product_content_parts | append: zp_cross_sell_content_part %}{% else %}{% assign zp_cross_sell_product = nil %}{% assign zp_cross_sell_handle = '' %}{% assign zp_cross_sell_selected_variants = '' %}{% assign zp_cross_sell_selected_variants_list = '' %}{% assign zp_cross_sell_block_id = '' %}{% assign zp_current_cross_sell_image_size = nil %}{% assign zp_cross_sell_image_sizes_json = '[]' %}{% assign zp_cross_sell_show_variant_selector_label = true %}{% assign zp_cross_sell_variant_selector_view = 'vt' %}{% assign zp_cross_sell_discount_amount = nil %}{% assign zp_cross_sell_saved_amount = nil %}{% assign zp_current_cross_sell_price = nil %}{% assign zp_current_cross_sell_compare_at_price = nil %}{% assign zp_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_price = nil %}{% assign zp_cross_sell_image = 'no-image.gif' | img_url: '280x' %}{% assign zp_formatted_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_compare_at_price = nil %}{% assign zp_formatted_cross_sell_saved_amount = nil %}{% assign zp_formatted_cross_sell_discount_amount = nil %}{% assign zp_unavailable_cross_sell_class = ' hidden' %}{% assign zp_cross_sell_unavailable_discount_class = ' hidden' %}{% assign zp_unavailable_cross_sell_quantity_class = ' hidden' %}{% assign zp_cross_sell_unit_price_wrapper_class = ' hidden' %}{% assign zp_cross_sell_image_data_attrs = nil %}{% assign zp_cross_sell_variants_container = nil %}{% assign zp_cross_sell_quantity_container = nil %}{% assign zp_cross_sell_product_messages = nil %}{% assign zp_cross_sell_first_selected_variant = nil %}{% assign zp_current_cross_sell_custom_variants = nil %}{% assign zp_cross_sell_element_id = nil %}{% assign zp_cross_sell_unit_price_block = nil %}{% assign zp_cross_sell_available = false %}{% assign zp_cross_sell_load_main_image = true %}{% assign zp_cross_sell_show_quantity_label = true %}{% assign zp_cross_sell_default_quantity = '1' %}{% assign zp_cross_sell_inventory_messages = nil %}{% assign zp_cross_sell_image_type = 'product' %}{% assign zp_cross_sell_discount_data = '' %}{% assign zp_cross_sell_show_quantity = true %}{% assign zp_cross_sell_view_type = 'crosssellproduct' %}{% assign zp_cross_sell_product_found = false %}{% assign zp_cross_sell_unit_price_tag_included = false %}{% assign zp_cross_sell_image_lazy_load = false %}{% assign zp_cross_sell_product_iterator = zp_cross_sell_product_iterator | plus: 1 %}{% assign zp_cross_sell_selector = 'zpcrosssellselector' | append: zp_product_selector_suffix | append: zp_cross_sell_product_iterator %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_selector | append: zp_main_product_selector_suffix %}{% assign zp_cross_sell_empty_wrapper_selector = zp_cross_sell_wrapper_selector | append: '-empty' %}{% if zp_render_products_from_metafield %}{% assign zp_product_settings_keys = zp_current_cross_sell_settings %}{% else %}{% if zp_cross_sell_content[0] contains '<zpprdmrkp></zpprdmrkp>' %}{% assign zp_cross_sell_content[0] = zp_cross_sell_content[0] | remove: '<zpprdmrkp></zpprdmrkp>' %}{% assign zp_display_cross_sell_markup = true %}{% else %}{% assign zp_display_cross_sell_markup = false %}{% endif %}{% assign zp_cross_sell_content_parts = zp_cross_sell_content[0] | append: ' ' | split: '>' %}{% assign zp_product_settings = zp_cross_sell_content_parts[0] %}{% assign zp_product_settings_tmp = zp_product_settings | append: '>' %}{% assign zp_cross_sell_content_parts = zp_cross_sell_content_parts | join: '>' | remove_first: zp_product_settings_tmp %}{% assign zp_product_settings = ' ' | append: zp_product_settings | split: ' data-' %}{% assign zp_product_settings_keys = '' %}{% assign zp_product_settings_values = '' %}{% for zp_product_setting in zp_product_settings %}{% assign zp_product_setting_parts = zp_product_setting | split: '=' %}{% if zp_product_setting_parts.size < 2 %}{% continue %}{% endif %}{% assign zp_product_setting_key = '' | append: zp_product_setting_parts[0] | strip %}{% if zp_product_setting_key.size < 1 %}{% continue %}{% endif %}{% assign zp_product_settings_keys = zp_product_settings_keys | append: zp_product_setting_key | append: '__zp1637066348__' %}{% assign zp_product_setting_size = zp_product_setting | size %}{% assign zp_product_setting_key_size = '' | append: zp_product_setting_parts[0] | size | plus: 1 %}{% assign zp_product_setting_value = '' | append: zp_product_setting | slice: zp_product_setting_key_size, zp_product_setting_size | strip %}{% assign zp_product_setting_value_last_index = zp_product_setting_value | size | minus: 1 %}{% assign zp_product_setting_value_first_letter = zp_product_setting_value | first %}{% if zp_product_setting_value_first_letter == '"' or zp_product_setting_value_first_letter == "'" %}{% assign zp_product_setting_value = zp_product_setting_value | slice: 1, zp_product_setting_value_last_index %}{% endif %}{% assign zp_product_setting_value_last_index = zp_product_setting_value | size | minus: 1 %}{% assign zp_product_setting_value_last_letter = zp_product_setting_value | last %}{% if zp_product_setting_value_last_letter == '"' or zp_product_setting_value_last_letter == "'" %}{% assign zp_product_setting_value = zp_product_setting_value | slice: 0, zp_product_setting_value_last_index %}{% endif %}{% assign zp_product_settings_values = zp_product_settings_values | append: zp_product_setting_value | append: '__zp1637066348__' %}{% endfor %}{% assign zp_product_settings_keys = zp_product_settings_keys | split: '__zp1637066348__' %}{% assign zp_product_settings_values = zp_product_settings_values | split: '__zp1637066348__' %}{% assign zp_product_settings = nil %}{% assign zp_product_settings_tmp = nil %}{% assign zp_product_setting_parts = nil %}{% endif %}{% for zp_product_setting_key_data in zp_product_settings_keys %}{% if zp_render_products_from_metafield %}{% assign zp_product_setting_key = zp_product_setting_key_data | first %}{% assign zp_product_setting_value = zp_product_setting_key_data | last | strip %}{% else %}{% assign zp_product_setting_key = zp_product_setting_key_data %}{% assign zp_product_setting_value = '' | append: zp_product_settings_values[forloop.index0] | strip %}{% endif %}{% if zp_product_setting_key == 'handle' %}{% assign zp_cross_sell_handle = zp_product_setting_value %}{% elsif zp_product_setting_key == 'slctvrnt' %}{% assign zp_cross_sell_selected_variants = zp_product_setting_value %}{% assign zp_cross_sell_selected_variants_list = zp_product_setting_value %}{% elsif zp_product_setting_key == 'qty' %}{% assign zp_cross_sell_default_quantity = zp_product_setting_value %}{% elsif zp_product_setting_key == 'bid' %}{% assign zp_cross_sell_block_id = zp_product_setting_value %}{% elsif zp_product_setting_key == 'imgtp' %}{% assign zp_cross_sell_image_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'dscntdt' %}{% assign zp_cross_sell_discount_data = zp_product_setting_value %}{% elsif zp_product_setting_key == 'vrntsv' %}{% assign zp_cross_sell_variant_selector_view = zp_product_setting_value %}{% elsif zp_product_setting_key == 'vtp' %}{% assign zp_cross_sell_view_type = zp_product_setting_value %}{% elsif zp_product_setting_key == 'shwqty' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_cross_sell_show_quantity = false %}{% endif %}{% elsif zp_product_setting_key == 'mimgld' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_cross_sell_load_main_image = false %}{% endif %}{% elsif zp_product_setting_key == 'shwqtylb' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_cross_sell_show_quantity_label = false %}{% endif %}{% elsif zp_product_setting_key == 'shwvrntlb' %}{% if zp_product_setting_value == 'false' or zp_product_setting_value == '0' %}{% assign zp_cross_sell_show_variant_selector_label = false %}{% endif %}{% elsif zp_product_setting_key == 'unprcincl' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_cross_sell_unit_price_tag_included = true %}{% endif %}{% elsif zp_product_setting_key == 'lzld' %}{% if zp_product_setting_value == 'true' or zp_product_setting_value == '1' %}{% assign zp_cross_sell_image_lazy_load = true %}{% endif %}{% endif %}{% endfor %}{% if zp_cross_sell_handle.size > 0 %}{% assign zp_cross_sell_product = all_products[zp_cross_sell_handle] %}{% assign zp_cross_sell_id = '' | append: zp_cross_sell_product.id %}{% if zp_cross_sell_id.size > 0 %}{% assign zp_cross_sell_product_found = true %}{% if zp_current_cross_sell_custom_variants == blank %}{% assign zp_current_cross_sell_custom_variants = zp_cross_sell_product.variants %}{% endif %}{% if zp_cross_sell_selected_variants.size < 1 %}{% assign zp_cross_sell_selected_variants = zp_current_cross_sell_custom_variants | map: 'id' | join: ',' | split: ',' %}{% endif %}{% if zp_cross_sell_use_product_variant_from_url %}{% assign zp_url_selected_variant_id = '' | append: zp_cross_sell_product.selected_variant.id %}{% else %}{% assign zp_url_selected_variant_id = '' %}{% endif %}{% assign zp_filtered_selected_variants = '' %}{% assign zp_cross_sell_first_selected_variant = nil %}{% assign zp_any_cross_sell_variant_available = false %}{% assign zp_basic_variant_ids = '' %}{% assign zp_bold_variant_ids = '' %}{% for zp_prd_variant in zp_current_cross_sell_custom_variants %}{% assign zp_variant_id = '' | append: zp_prd_variant.id %}{% if zp_integrate_with_bold_quantity_breaks and zp_integrate_with_bold_custom_pricing %}{% assign zp_basic_variant_ids = zp_basic_variant_ids | append: zp_variant_id | append: ',' %}{% assign zp_bold_variant_id = zp_prd_variant.metafields.shappify_csp['csp_base'] | default: zp_prd_variant.metafields.shappify_qb['qb_parent'] | default: zp_prd_variant.metafields.shappify_bundle['bundle_parent'] | default: 'notassigned' %}{% assign zp_bold_variant_ids = zp_bold_variant_ids | append: zp_bold_variant_id | append: ',' %}{% endif %}{% if zp_cross_sell_use_product_variant_from_url and zp_url_selected_variant_id == zp_variant_id and zp_cross_sell_selected_variants contains zp_url_selected_variant_id %}{% assign zp_cross_sell_first_selected_variant = zp_prd_variant %}{% endif %}{% if zp_cross_sell_selected_variants contains zp_variant_id %}{% assign zp_filtered_selected_variants = zp_filtered_selected_variants | append: zp_variant_id | append: ',' %}{% if zp_cross_sell_first_selected_variant == nil %}{% assign zp_cross_sell_first_selected_variant = zp_prd_variant %}{% endif %}{% if zp_prd_variant.available %}{% assign zp_any_cross_sell_variant_available = true %}{% endif %}{% endif %}{% endfor %}{% assign zp_cross_sell_selected_variants = zp_filtered_selected_variants | split: ',' %}{% if zp_cross_sell_selected_variants.size < 1 %}{% assign zp_cross_sell_selected_variants = zp_current_cross_sell_custom_variants | map: 'id' | join: ',' | split: ',' %}{% assign zp_any_cross_sell_variant_available = zp_cross_sell_product.available %}{% if zp_cross_sell_use_product_variant_from_url and zp_cross_sell_selected_variants contains zp_url_selected_variant_id %}{% assign zp_cross_sell_first_selected_variant = zp_cross_sell_product.selected_variant %}{% else %}{% assign zp_cross_sell_first_selected_variant = zp_current_cross_sell_custom_variants | first %}{% endif %}{% endif %}{% unless zp_cross_sell_first_selected_variant.available %}{% assign zp_cross_sell_first_available_variant = nil %}{% for zp_prd_variant in zp_current_cross_sell_custom_variants %}{% assign zp_variant_id = '' | append: zp_prd_variant.id %}{% if zp_cross_sell_selected_variants contains zp_variant_id and zp_prd_variant.available %}{% assign zp_cross_sell_first_available_variant = zp_prd_variant %}{% break %}{% endif %}{% endfor %}{% unless zp_cross_sell_first_available_variant == nil %}{% assign zp_cross_sell_first_selected_variant = zp_cross_sell_first_available_variant %}{% endunless %}{% assign zp_cross_sell_first_available_variant = nil %}{% endunless %}{% assign zp_variant_id = nil %}{% if zp_integrate_with_bold_quantity_breaks and zp_integrate_with_bold_custom_pricing %}{% assign zp_basic_variant_ids = zp_basic_variant_ids | split: ',' %}{% assign zp_bold_variant_ids = zp_bold_variant_ids | split: ',' %}{% assign zp_bold_variant_id = nil %}{% assign zp_variant_id = '' | append: zp_cross_sell_first_selected_variant.id %}{% for zp_prd_variant in zp_bold_variant_ids %}{% if zp_variant_id == zp_prd_variant %}{% assign zp_bold_variant_id = zp_basic_variant_ids[forloop.index0] %}{% break %}{% endif %}{% endfor %}{% if zp_bold_variant_id and zp_bold_variant_id != zp_variant_id %}{% assign zp_break_iterator = false %}{% for zp_prd_variant in zp_cross_sell_product.variants %}{% if zp_break_iterator %}{% break %}{% endif %}{% assign zp_prd_variant_id = '' | append: zp_prd_variant.id %}{% if zp_prd_variant_id == zp_bold_variant_id %}{% assign zp_break_iterator = true %}{% if zp_integrate_with_bold_quantity_breaks == true %}{% include 'bold-variant' with zp_prd_variant, hide_action: 'skip' %}{% endif %}{% assign zp_cross_sell_first_selected_variant = zp_prd_variant %}{% break %}{% endif %}{% endfor %}{% endif %}{% endif %}{% assign zp_current_cross_sell_price = zp_cross_sell_first_selected_variant.price %}{% if zp_any_cross_sell_variant_available %}{% assign zp_cross_sell_available = true %}{% assign zp_unavailable_cross_sell_class = '' %}{% assign zp_cross_sell_unavailable_discount_class = '' %}{% assign zp_available_cross_sell_products_count = zp_available_cross_sell_products_count | plus: 1 %}{% assign zp_cross_sell_featured_image = zp_cross_sell_product.featured_image %}{% assign zp_cross_sell_default_image = zp_cross_sell_featured_image | img_url: 'master' %}{% assign zp_first_selected_variant_image_id = '' | append: zp_cross_sell_first_selected_variant.image.id | strip %}{% if zp_cross_sell_image_type == 'variant' and zp_show_variants_selectors == true and zp_first_selected_variant_image_id.size > 0 %}{% assign zp_cross_sell_featured_image = zp_cross_sell_first_selected_variant.image %}{% endif %}{% assign zp_cross_sell_image_srcset_available = true %}{% assign zp_cross_sell_image_sizes_data = '1080:--:280x' %}{% assign zp_product_image_sizes_data_parts = '' | append: zp_cross_sell_image_sizes_data | split: ':|~|:' %}{% assign zp_product_image_src_set_string = '' %}{% assign zp_product_image_sizes_list_string = '' %}{% assign zp_product_image_sizes_json_string = '' %}{% assign zp_current_cross_sell_image_size = nil %}{% for zp_image_size_data in zp_product_image_sizes_data_parts %}{% assign zp_image_size_data_parts = '' | append: zp_image_size_data | split: ':--:' %}{% assign zp_image_screen_size = zp_image_size_data_parts[0] %}{% assign zp_image_resize_filter = zp_image_size_data_parts[1] %}{% if zp_image_screen_size.size > 0 and zp_image_resize_filter.size > 0 %}{% assign zp_product_image_url_with_filter = zp_cross_sell_featured_image | img_url: zp_image_resize_filter %}{% assign zp_image_screen_size_width = zp_image_screen_size | append: 'w' %}{% assign zp_product_image_src_set_string = zp_product_image_src_set_string | append: zp_product_image_url_with_filter | append: ' ' | append: zp_image_screen_size_width | append: '__zp1637066348__' %}{% assign zp_product_image_sizes_list_string = zp_product_image_sizes_list_string | append: zp_image_screen_size | append: 'px' | append: '__zp1637066348__' %}{% assign zp_image_screen_size_width_json = zp_image_screen_size_width | json %}{% assign zp_image_resize_filter_json = zp_image_resize_filter | json %}{% assign zp_product_image_sizes_json_string = zp_product_image_sizes_json_string | append: '{"filter":' | append: zp_image_resize_filter_json | append: ',"screen":' | append: zp_image_screen_size_width_json | append: '}' | append: '__zp1637066348__' %}{% unless zp_current_cross_sell_image_size %}{% assign zp_current_cross_sell_image_size = zp_image_resize_filter %}{% endunless %}{% endif %}{% endfor %}{% unless zp_current_cross_sell_image_size %}{% assign zp_current_cross_sell_image_size = '1080x' %}{% endunless %}{% assign zp_cross_sell_image_src_set = zp_product_image_src_set_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_cross_sell_image_sizes_list = zp_product_image_sizes_list_string | split: '__zp1637066348__' | join: ',' %}{% assign zp_cross_sell_image_sizes_json = zp_product_image_sizes_json_string | split: '__zp1637066348__' | join: ',' | prepend: '[' | append: ']' %}{% assign zp_cross_sell_image = zp_cross_sell_featured_image | img_url: zp_current_cross_sell_image_size %}{% if zp_cross_sell_image_type == 'custom' %}{% assign zp_cross_sell_image_lazy_load_available = false %}{% assign zp_cross_sell_image_srcset_available = false %}{% assign zp_cross_sell_image_srcset_sizes_available = false %}{% else %}{% assign zp_cross_sell_image_lazy_load_available = true %}{% assign zp_cross_sell_image_srcset_sizes_available = true %}{% endif %}{% capture zp_cross_sell_image_data_attrs %}{% if zp_cross_sell_image_lazy_load %}{% assign zp_product_image_load_attr_prefix = 'data-' %}{% else %}{% assign zp_product_image_load_attr_prefix = '' %}{% endif %}{% if zp_cross_sell_image_lazy_load and zp_cross_sell_image_lazy_load_available %} data-lowsrc="{{ zp_cross_sell_featured_image | img_url: '280x' }}" data-parent-fit="cover" data-aspectratio="16/9"{% endif %}{% if zp_cross_sell_image_srcset_sizes_available %} {% if zp_cross_sell_image_lazy_load and zp_cross_sell_image_lazy_load_available %}data-sizes="auto" sizes="{{ zp_cross_sell_image_sizes_list }}"{% else %}sizes="{{ zp_cross_sell_image_sizes_list }}"{% endif %}{% endif %}{% if zp_cross_sell_image_srcset_available and zp_cross_sell_load_main_image %} {{ zp_product_image_load_attr_prefix }}srcset="{{ zp_cross_sell_image_src_set }}"{% endif %} data-zp-cross-sell-image data-zp-cross-sell-image-type="{{ zp_cross_sell_image_type }}" data-zp-image-id="{{ zp_cross_sell_featured_image.id }}" data-zp-default-image="{{ zp_cross_sell_default_image }}"{% endcapture %}{% assign zp_cross_sell_discount_data = zp_cross_sell_discount_data | split: ':' %}{% if zp_cross_sell_first_selected_variant.compare_at_price > zp_cross_sell_first_selected_variant.price %}{% assign zp_current_cross_sell_compare_at_price = zp_cross_sell_first_selected_variant.compare_at_price %}{% else %}{% assign zp_current_cross_sell_compare_at_price = nil %}{% endif %}{% assign zp_cross_sell_discount_amount_recalculate = true %}{% assign zp_cross_sell_discount_amount_money = false %}{% assign zp_cross_sell_discount_amount_prefix = '' %}{% assign zp_cross_sell_discount_amount_suffix = '' %}{% if zp_cross_sell_discount_data.size > 1 %}{% assign zp_cross_sell_discount_amount = 0 | plus: zp_cross_sell_discount_data[0] | abs %}{% assign zp_product_discount_type = '' | append: zp_cross_sell_discount_data[1] %}{% if zp_product_discount_type == 'percentage' or zp_product_discount_type == 'percentage_dynamic' %}{% assign zp_product_discount_amount_parts = '' | append: zp_cross_sell_discount_amount | split: '.' %}{% assign zp_product_discount_decimal_part = '' | append: zp_product_discount_amount_parts[1] | default: '0' %}{% assign zp_product_discount_decimal_part = 0 | plus: zp_product_discount_decimal_part %}{% unless zp_product_discount_decimal_part > 0 %}{% assign zp_cross_sell_discount_amount = zp_product_discount_amount_parts[0] %}{% endunless %}{% assign zp_cross_sell_discount_amount = 0 | plus: zp_cross_sell_discount_amount | at_most: 100 %}{% assign zp_cross_sell_saved_amount = zp_current_cross_sell_price | times: zp_cross_sell_discount_amount | divided_by: 100 | at_most: zp_current_cross_sell_price %}{% assign zp_cross_sell_discount_amount_recalculate = false %}{% assign zp_cross_sell_discount_amount_suffix = '%' %}{% elsif zp_product_discount_type == 'compare_price' %}{% if zp_current_cross_sell_compare_at_price %}{% assign zp_cross_sell_discount_amount = zp_current_cross_sell_compare_at_price | minus: zp_current_cross_sell_price %}{% else %}{% assign zp_cross_sell_discount_amount = 0 %}{% assign zp_cross_sell_unavailable_discount_class = 'hidden' %}{% endif %}{% assign zp_cross_sell_saved_amount = zp_cross_sell_discount_amount %}{% else %}{% assign zp_cross_sell_discount_amount = zp_cross_sell_discount_amount | times: 100 %}{% assign zp_cross_sell_discount_amount = '' | append: zp_cross_sell_discount_amount | split: '.' | first | default: 0 %}{% assign zp_cross_sell_discount_amount = 0 | plus: zp_cross_sell_discount_amount | at_most: zp_current_cross_sell_price %}{% assign zp_cross_sell_saved_amount = zp_cross_sell_discount_amount %}{% assign zp_cross_sell_discount_amount_money = true %}{% endif %}{% if zp_product_discount_type == 'compare_price' %}{% assign zp_cross_sell_sale_price = zp_current_cross_sell_price %}{% else %}{% assign zp_cross_sell_sale_price = zp_current_cross_sell_price | minus: zp_cross_sell_saved_amount %}{% endif %}{% assign zp_cross_sell_discount_amount_prefix = '-' %}{% else %}{% assign zp_cross_sell_sale_price = zp_current_cross_sell_price %}{% assign zp_cross_sell_unavailable_discount_class = 'hidden' %}{% endif %}{% if zp_product_calculate_bundle_price %}{% assign zp_current_cross_sell_price = zp_current_cross_sell_price | times: zp_cross_sell_default_quantity %}{% if zp_current_cross_sell_compare_at_price %}{% assign zp_current_cross_sell_compare_at_price = zp_current_cross_sell_compare_at_price | times: zp_cross_sell_default_quantity %}{% endif %}{% assign zp_cross_sell_sale_price = zp_cross_sell_sale_price | times: zp_cross_sell_default_quantity %}{% if zp_cross_sell_saved_amount %}{% assign zp_cross_sell_saved_amount = zp_cross_sell_saved_amount | times: zp_cross_sell_default_quantity %}{% endif %}{% if zp_cross_sell_discount_amount_recalculate %}{% assign zp_cross_sell_discount_amount = zp_cross_sell_discount_amount | times: zp_cross_sell_default_quantity %}{% endif %}{% endif %}{% assign zp_formatted_cross_sell_price = zp_current_cross_sell_price | money %}{% assign zp_formatted_cross_sell_sale_price = zp_cross_sell_sale_price | money %}{% assign zp_formatted_cross_sell_compare_at_price = zp_current_cross_sell_compare_at_price | money %}{% if zp_cross_sell_discount_amount_money %}{% assign zp_formatted_cross_sell_discount_amount = zp_cross_sell_discount_amount | money %}{% else %}{% assign zp_formatted_cross_sell_discount_amount = zp_cross_sell_discount_amount %}{% endif %}{% assign zp_formatted_cross_sell_discount_amount = zp_formatted_cross_sell_discount_amount | prepend: zp_cross_sell_discount_amount_prefix | append: zp_cross_sell_discount_amount_suffix %}{% if zp_cross_sell_saved_amount %}{% assign zp_formatted_cross_sell_saved_amount = zp_cross_sell_saved_amount | money %}{% endif %}{% assign zp_cross_sell_discount_data = zp_cross_sell_discount_data | join: ':' %}{% capture zp_cross_sell_variants_container %}<select id="{{ zp_cross_sell_selector }}" class="hidden noreplace" data-productid="{{ zp_cross_sell_product.id }}" data-zp-cross-sell-field="id">{% assign zp_first_selected_variant_id = '' | append: zp_cross_sell_first_selected_variant.id %}{% for zp_cross_sell_variant in zp_current_cross_sell_custom_variants %}{% assign zp_variant_id = '' | append: zp_cross_sell_variant.id %}{% unless zp_cross_sell_selected_variants contains zp_variant_id %}{% continue %}{% endunless %}{% if zp_cross_sell_product.has_only_default_variant %}{% assign zp_cross_sell_variant_name = zp_cross_sell_product.title %}{% else %}{% assign zp_cross_sell_variant_name = zp_cross_sell_product.title | append: ' - ' | append: zp_cross_sell_variant.title %}{% endif %}{% if zp_cross_sell_variant.available %}{% if zp_first_selected_variant_id == zp_variant_id %}{% assign zp_option_selected_attr = 'selected="selected" ' %}{% else %}{% assign zp_option_selected_attr = '' %}{% endif %}<option {{ zp_option_selected_attr }}value="{{ zp_cross_sell_variant.id }}" data-zp-var-name="{{ zp_cross_sell_variant_name | escape }}">{{ zp_cross_sell_variant.title }} - {{ zp_cross_sell_variant.price | money_with_currency }}</option>{% else %}<option disabled="disabled">{{ zp_cross_sell_variant.title }} - {% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</option>{% endif %}{% endfor %}</select>{% endcapture %}{% if zp_unit_price_enabled %}{% if zp_cross_sell_unit_price_tag_included %}{% if zp_cross_sell_first_selected_variant.unit_price_measurement %}{% assign zp_cross_sell_unit_price_wrapper_class = '' %}{% else %}{% assign zp_cross_sell_unit_price_wrapper_class = ' hidden' %}{% endif %}{% capture zp_cross_sell_unit_price_block %}<span data-zp-cross-sell-unit-price>{% if zp_cross_sell_first_selected_variant.unit_price_measurement %}{{ zp_cross_sell_first_selected_variant.unit_price | money }}{% endif %}</span><span> / </span><span data-zp-cross-sell-up-base-unit>{% if zp_cross_sell_first_selected_variant.unit_price_measurement %}{% if zp_cross_sell_first_selected_variant.unit_price_measurement.reference_value != 1 %}{{ zp_cross_sell_first_selected_variant.unit_price_measurement.reference_value }}{% endif %}{{ zp_cross_sell_first_selected_variant.unit_price_measurement.reference_unit }}{% endif %}</span>{% endcapture %}{% else %}{% capture zp_cross_sell_unit_price_block %}{% if zp_unit_price_enabled %}<div class="zpa-offset-bottom-xs{% unless zp_cross_sell_first_selected_variant.unit_price_measurement %} hidden{% endunless %}" data-zp-cross-sell-unit-price-wrapper><span data-zp-cross-sell-unit-price>{% if zp_cross_sell_first_selected_variant.unit_price_measurement %}{{ zp_cross_sell_first_selected_variant.unit_price | money }}{% endif %}</span><span> / </span><span data-zp-cross-sell-up-base-unit>{% if zp_cross_sell_first_selected_variant.unit_price_measurement %}{% if zp_cross_sell_first_selected_variant.unit_price_measurement.reference_value != 1 %}{{ zp_cross_sell_first_selected_variant.unit_price_measurement.reference_value }}{% endif %}{{ zp_cross_sell_first_selected_variant.unit_price_measurement.reference_unit }}{% endif %}</span></div>{% endif %}{% endcapture %}{% assign zp_cross_sell_variants_container = zp_cross_sell_unit_price_block | append: zp_cross_sell_variants_container %}{% endif %}{% endif %}{% if zp_cross_sell_show_quantity %}{% assign zp_unavailable_cross_sell_quantity_class = '' %}{% else %}{% assign zp_unavailable_cross_sell_quantity_class = 'hidden' %}{% endif %}{% capture zp_cross_sell_quantity_container %}{% if zp_cross_sell_show_quantity %}{% unless zp_cross_sell_show_quantity_label == false %}<label for="{{ zp_cross_sell_selector }}-quantity">{% assign zp_translation = 'products.product.quantity.label' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = 'products.product.quantity' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Quantity" %}{% endif %}{% endif %}{% assign zp_last_translation_char = zp_translation | strip | split: '' | last %}{% if zp_last_translation_char == ':' %}{{ zp_translation }}{% else %}{{ zp_translation }}:{% endif %}</label>{% endunless %}<div class="zpa-quantity-block"><button class="zpa-btn-custom zpa-quantity-btn" type="button"data-zp-cross-sell-decrease-qty><svg class="zpa-quantity-icon" width="14px" height="14px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconDecrease"></use></svg></button><input id="{{ zp_cross_sell_selector }}-quantity" class="zpa-quantity-field xs" value="{{ zp_cross_sell_default_quantity }}" maxlength="3" size="3" type="tel" inputmode="numeric" required pattern="^[1-9][0-9]*"data-zp-cross-sell-quantity data-zp-cross-sell-field="quantity"><button class="zpa-btn-custom zpa-quantity-btn" type="button"data-zp-cross-sell-increase-qty><svg class="zpa-quantity-icon" width="14px" height="14px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconIncrease"></use></svg></button></div>{% else %}<input type="hidden"value="{{ zp_cross_sell_default_quantity }}"data-zp-cross-sell-quantity data-zp-cross-sell-field="quantity">{% endif %}{% endcapture %}{% capture zp_cross_sell_product_messages %}{% if zp_cross_sell_first_selected_variant.available %}<div class="zpa-cross-sell-sold-out__label zpa-text-center zpa-font-b zpa-text-uppercase zpa-offset-top-xs hidden" data-zp-cross-sell-inventory-messages></div>{% else %}<div class="zpa-cross-sell-sold-out__label zpa-text-center zpa-font-b zpa-text-uppercase zpa-offset-top-xs" data-zp-cross-sell-inventory-messages>{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</div>{% endif %}{% if zp_show_variants_selectors_link_types contains zp_product_link_type %}<div class="zpa-product-message-wrap"><span class="zpa-product-message zpa-cross-sell-product--message hidden"data-zp-success-message="{{ zp_product_add_to_cart_msg }}" data-zp-cross-sell-messages></span></div>{% endif %}{% endcapture %}{% else %}{% capture zp_cross_sell_product_messages %}<div class="zpa-cross-sell-sold-out__label zpa-text-center zpa-font-b zpa-text-uppercase zpa-offset-top-xs" data-zp-cross-sell-inventory-messages>{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</div>{% endcapture %}{% endif %}{% capture zp_cross_sell_json_integration_content %}{% if zp_integrate_with_bold_quantity_breaks == true %}{% capture zp_product_json %}{% include 'bold-product', product: zp_cross_sell_product, output: 'json' %}{% endcapture %}{% if zp_product_json contains 'Liquid error: Could not find asset' %}{{ zp_cross_sell_product | json | default: 'null' }}{% else %}{{ zp_product_json | strip | default: 'null' }}{% endif %}{% assign zp_product_json = nil %}{% else %}{{ zp_cross_sell_product | json | default: 'null' }}{% endif %}{% endcapture %}{% capture zp_cross_sell_config_part %}{"product":{{ zp_cross_sell_json_integration_content }},"selectedVariants":"{{ zp_cross_sell_selected_variants_list | url_escape | default: '' }}","discountData":"{{ zp_cross_sell_discount_data }}","selector":"{{ zp_cross_sell_selector | default: '' }}","available":{{ zp_cross_sell_available | default: false }},"blockId":"{{ zp_cross_sell_block_id | default: '' }}","imageSize":"{{ '' | append: zp_current_cross_sell_image_size | strip | default: 'master' | url_escape }}","imageSrcSetData":{{ zp_cross_sell_image_sizes_json | default: '[]' }},"showVariantLabel":{{ zp_cross_sell_show_variant_selector_label | default: 'false' }},"variantSelectorView":"{{ zp_cross_sell_variant_selector_view | default: 'vt' }}","defaultQty":{{ 0 | plus: zp_cross_sell_default_quantity }}}{% endcapture %}{% if zp_cross_sell_config.size > 1 %}{% assign zp_cross_sell_config_parts_separator = ',' %}{% else %}{% assign zp_cross_sell_config_parts_separator = '' %}{% endif %}{% assign zp_cross_sell_config = '' | append: zp_cross_sell_config | append: zp_cross_sell_config_parts_separator | append: zp_cross_sell_config_part %}{% assign zp_cross_sell_config_part = nil %}{% else %}{% assign zp_cross_sell_product = nil %}{% capture zp_cross_sell_product_messages %}<div class="zpa-cross-sell-sold-out__label zpa-text-center zpa-font-b zpa-text-uppercase zpa-offset-top-xs" data-zp-cross-sell-inventory-messages>{% assign zp_translation = 'products.product.unavailable' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Unavailable" %}{% endif %}{{ zp_translation }}</div>{% endcapture %}{% endif %}{% endif %}{% unless zp_cross_sell_product_found %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_empty_wrapper_selector %}{% endunless %}{% if zp_render_products_from_metafield %}{% capture zp_current_replace_item %}zp_cross_sell_wrapper_selector_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_wrapper_selector %}{% capture zp_current_replace_item %}zps_csimgsrc_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image %}{% capture zp_current_replace_item %}<zpcsslprc_{{ zp_cross_sell_block_marker }}></zpcsslprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_sale_price %}{% capture zp_current_replace_item %}<zpcsprc_{{ zp_cross_sell_block_marker }}></zpcsprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_price %}{% capture zp_current_replace_item %}<zpcscompareprc_{{ zp_cross_sell_block_marker }}></zpcscompareprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_compare_at_price %}{% capture zp_current_replace_item %}<zpcssvdprc_{{ zp_cross_sell_block_marker }}></zpcssvdprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_saved_amount %}{% capture zp_current_replace_item %}<zpcsdcsamnt_{{ zp_cross_sell_block_marker }}></zpcsdcsamnt_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_discount_amount %}{% capture zp_current_replace_item %}zps_csunvavlblprdcl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_class %}{% capture zp_current_replace_item %}zps_csunavlbldccl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unavailable_discount_class %}{% capture zp_current_replace_item %}zps_csimgdattr_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image_data_attrs %}{% capture zp_current_replace_item %}zps_csunvavlblqtycl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_quantity_class %}{% capture zp_current_replace_item %}<zpcsvrnts_{{ zp_cross_sell_block_marker }}></zpcsvrnts_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_variants_container %}{% capture zp_current_replace_item %}<zpcsqtyctrl_{{ zp_cross_sell_block_marker }}></zpcsqtyctrl_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_quantity_container %}{% capture zp_current_replace_item %}<zpcspmsg_{{ zp_cross_sell_block_marker }}></zpcspmsg_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_product_messages %}{% capture zp_current_replace_item %}<zpcsunprc_{{ zp_cross_sell_block_marker }}></zpcsunprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_block %}{% capture zp_current_replace_item %}zps_unvavlblcsunp_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_wrapper_class %}{% capture zp_current_replace_item %}<zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '' %}{% capture zp_current_replace_item %}</zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '' %}{% assign zp_current_replace_item = nil %}{% else %}{% assign zp_cross_sell_content_parts = zp_cross_sell_content_parts | replace: 'zp_cross_sell_wrapper_selector', zp_cross_sell_wrapper_selector | replace: 'zps_csimgsrc', zp_cross_sell_image | replace: '<zpcsslprc></zpcsslprc>', zp_formatted_cross_sell_sale_price | replace: '<zpcsprc></zpcsprc>', zp_formatted_cross_sell_price | replace: '<zpcscompareprc></zpcscompareprc>', zp_formatted_cross_sell_compare_at_price | replace: '<zpcssvdprc></zpcssvdprc>', zp_formatted_cross_sell_saved_amount | replace: '<zpcsdcsamnt></zpcsdcsamnt>', zp_formatted_cross_sell_discount_amount | replace: 'zps_csunvavlblprdcl', zp_unavailable_cross_sell_class | replace: 'zps_csunavlbldccl', zp_cross_sell_unavailable_discount_class | replace: 'zps_csimgdattr', zp_cross_sell_image_data_attrs | replace: 'zps_csunvavlblqtycl', zp_unavailable_cross_sell_quantity_class | replace: '<zpcsvrnts></zpcsvrnts>', zp_cross_sell_variants_container | replace: '<zpcsqtyctrl></zpcsqtyctrl>', zp_cross_sell_quantity_container | replace: '<zpcspmsg></zpcspmsg>', zp_cross_sell_product_messages | replace: '<zpcsunprc></zpcsunprc>', zp_cross_sell_unit_price_block | replace: 'zps_unvavlblcsunp', zp_cross_sell_unit_price_wrapper_class %}{% assign zp_product_content_parts = zp_product_content_parts | append: zp_cross_sell_content_parts | append: zp_cross_sell_content[1] %}{% endif %}{% endif %}{% endfor %}{% if zp_available_cross_sell_products_count > 0 %}{% assign zp_unavailable_cross_sell_wrapper_class = '' %}{% endif %}{% if zp_cross_sell_config.size > 0 %}{% assign zp_cross_sell_config = '[' | append: zp_cross_sell_config | append: ']' %}{% endif %}{%- else -%}{% assign zp_cross_sell_product = nil %}{% assign zp_cross_sell_handle = '' %}{% assign zp_cross_sell_selected_variants = '' %}{% assign zp_cross_sell_selected_variants_list = '' %}{% assign zp_cross_sell_block_id = '' %}{% assign zp_current_cross_sell_image_size = nil %}{% assign zp_cross_sell_image_sizes_json = '[]' %}{% assign zp_cross_sell_show_variant_selector_label = true %}{% assign zp_cross_sell_variant_selector_view = 'vt' %}{% assign zp_cross_sell_discount_amount = nil %}{% assign zp_cross_sell_saved_amount = nil %}{% assign zp_current_cross_sell_price = nil %}{% assign zp_current_cross_sell_compare_at_price = nil %}{% assign zp_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_price = nil %}{% assign zp_cross_sell_image = 'no-image.gif' | img_url: '280x' %}{% assign zp_formatted_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_compare_at_price = nil %}{% assign zp_formatted_cross_sell_saved_amount = nil %}{% assign zp_formatted_cross_sell_discount_amount = nil %}{% assign zp_unavailable_cross_sell_class = ' hidden' %}{% assign zp_cross_sell_unavailable_discount_class = ' hidden' %}{% assign zp_unavailable_cross_sell_quantity_class = ' hidden' %}{% assign zp_cross_sell_unit_price_wrapper_class = ' hidden' %}{% assign zp_cross_sell_image_data_attrs = nil %}{% assign zp_cross_sell_variants_container = nil %}{% assign zp_cross_sell_quantity_container = nil %}{% assign zp_cross_sell_product_messages = nil %}{% assign zp_cross_sell_first_selected_variant = nil %}{% assign zp_current_cross_sell_custom_variants = nil %}{% assign zp_cross_sell_element_id = nil %}{% assign zp_cross_sell_unit_price_block = nil %}{% assign zp_cross_sell_available = false %}{% assign zp_cross_sell_load_main_image = true %}{% assign zp_cross_sell_show_quantity_label = true %}{% assign zp_cross_sell_default_quantity = '1' %}{% assign zp_cross_sell_inventory_messages = nil %}{% assign zp_cross_sell_image_type = 'product' %}{% assign zp_cross_sell_discount_data = '' %}{% assign zp_cross_sell_show_quantity = true %}{% assign zp_cross_sell_view_type = 'crosssellproduct' %}{% assign zp_cross_sell_product_found = false %}{% assign zp_cross_sell_unit_price_tag_included = false %}{% assign zp_cross_sell_image_lazy_load = false %}{%- if zp_render_products_from_metafield -%}{% assign zp_cross_sell_content_parts = zp_current_product_settings['crsslls'] %}{% for zp_cross_sell_content_part in zp_cross_sell_content_parts %}{% assign zp_cross_sell_block_marker = zp_cross_sell_content_part | first %}{% assign zp_cross_sell_product_iterator = zp_cross_sell_product_iterator | plus: 1 %}{% assign zp_cross_sell_selector = 'zpcrosssellselector' | append: zp_product_selector_suffix | append: zp_cross_sell_product_iterator %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_selector | append: zp_main_product_selector_suffix %}{% assign zp_cross_sell_empty_wrapper_selector = zp_cross_sell_wrapper_selector | append: '-empty' %}{% capture zp_current_replace_item %}zp_cross_sell_wrapper_selector_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_empty_wrapper_selector %}{% capture zp_current_replace_item %}<zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '<div style="display:none!important">' %}{% capture zp_current_replace_item %}</zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '</div>' %}{% capture zp_current_replace_item %}zp_cross_sell_wrapper_selector_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_wrapper_selector %}{% capture zp_current_replace_item %}zps_csimgsrc_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image %}{% capture zp_current_replace_item %}<zpcsslprc_{{ zp_cross_sell_block_marker }}></zpcsslprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_sale_price %}{% capture zp_current_replace_item %}<zpcsprc_{{ zp_cross_sell_block_marker }}></zpcsprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_price %}{% capture zp_current_replace_item %}<zpcscompareprc_{{ zp_cross_sell_block_marker }}></zpcscompareprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_compare_at_price %}{% capture zp_current_replace_item %}<zpcssvdprc_{{ zp_cross_sell_block_marker }}></zpcssvdprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_saved_amount %}{% capture zp_current_replace_item %}<zpcsdcsamnt_{{ zp_cross_sell_block_marker }}></zpcsdcsamnt_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_discount_amount %}{% capture zp_current_replace_item %}zps_csunvavlblprdcl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_class %}{% capture zp_current_replace_item %}zps_csunavlbldccl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unavailable_discount_class %}{% capture zp_current_replace_item %}zps_csimgdattr_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image_data_attrs %}{% capture zp_current_replace_item %}zps_csunvavlblqtycl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_quantity_class %}{% capture zp_current_replace_item %}<zpcsvrnts_{{ zp_cross_sell_block_marker }}></zpcsvrnts_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_variants_container %}{% capture zp_current_replace_item %}<zpcsqtyctrl_{{ zp_cross_sell_block_marker }}></zpcsqtyctrl_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_quantity_container %}{% capture zp_current_replace_item %}<zpcspmsg_{{ zp_cross_sell_block_marker }}></zpcspmsg_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_product_messages %}{% capture zp_current_replace_item %}<zpcsunprc_{{ zp_cross_sell_block_marker }}></zpcsunprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_block %}{% capture zp_current_replace_item %}zps_unvavlblcsunp_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_wrapper_class %}{% assign zp_current_replace_item = nil %}{% endfor %}{%- elsif zp_product_with_cross_sell_tag -%}{% assign zp_cross_sell_product_iterator = zp_cross_sell_product_iterator | plus: 1 %}{% assign zp_cross_sell_selector = 'zpcrosssellselector' | append: zp_product_selector_suffix | append: zp_cross_sell_product_iterator %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_selector | append: zp_main_product_selector_suffix %}{% assign zp_cross_sell_empty_wrapper_selector = zp_cross_sell_wrapper_selector | append: '-empty' %}{% assign zp_product_content_parts = zp_product_content_parts | replace: 'zp_cross_sell_wrapper_selector', zp_cross_sell_empty_wrapper_selector | replace: zp_opened_cross_sell_tag, '<div style="display:none!important" ' | replace: zp_closed_cross_sell_tag, '</div>' | replace: 'zp_cross_sell_wrapper_selector', zp_cross_sell_wrapper_selector | replace: 'zps_csimgsrc', zp_cross_sell_image | replace: '<zpcsslprc></zpcsslprc>', zp_formatted_cross_sell_sale_price | replace: '<zpcsprc></zpcsprc>', zp_formatted_cross_sell_price | replace: '<zpcscompareprc></zpcscompareprc>', zp_formatted_cross_sell_compare_at_price | replace: '<zpcssvdprc></zpcssvdprc>', zp_formatted_cross_sell_saved_amount | replace: '<zpcsdcsamnt></zpcsdcsamnt>', zp_formatted_cross_sell_discount_amount | replace: 'zps_csunvavlblprdcl', zp_unavailable_cross_sell_class | replace: 'zps_csunavlbldccl', zp_cross_sell_unavailable_discount_class | replace: 'zps_csimgdattr', zp_cross_sell_image_data_attrs | replace: 'zps_csunvavlblqtycl', zp_unavailable_cross_sell_quantity_class | replace: '<zpcsvrnts></zpcsvrnts>', zp_cross_sell_variants_container | replace: '<zpcsqtyctrl></zpcsqtyctrl>', zp_cross_sell_quantity_container | replace: '<zpcspmsg></zpcspmsg>', zp_cross_sell_product_messages | replace: '<zpcsunprc></zpcsunprc>', zp_cross_sell_unit_price_block | replace: 'zps_unvavlblcsunp', zp_cross_sell_unit_price_wrapper_class %}{%- endif -%}{%- endif -%} 
        {%- capture zp_additional_property_integration_content -%}{% capture zp_replace_integration %}<zp_additional_property_integration></zp_additional_property_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_additional_property_integration>', '' | replace: '</zp_additional_property_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}{% if zp_integrate_with_recharge and zp_enable_subscription_widget %}{% assign zp_recharge_wrapper_content = '<div id="' | append: zp_product_selector | append: '-recharge-wrapper" class="zpa-offset-bottom-xs zpa-recharge-wrapper" data-zp-recharge-product="' | append: product.id | append: '" data-zp-wrapper="' | append: zp_product_selector | append: '"></div>' %}{% assign zp_additional_property_integration_content = zp_additional_property_integration_content | prepend: zp_recharge_wrapper_content %}{% endif %}
        {%- capture zp_variant_integration_content -%}{% capture zp_replace_integration %}<zp_variant_integration></zp_variant_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_variant_integration>', '' | replace: '</zp_variant_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {%- capture zp_property_integration_content -%}{% if zp_integrate_with_bold_subscriptions %}{% include 'bsub-widget' %}{% endif %}{% if zp_integrate_with_bold_product_options == true %}<div class="bold_options" data-product-id="{{ product.id }}"></div>{% endif %}{% capture zp_replace_integration %}<zp_property_integration></zp_property_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_property_integration>', '' | replace: '</zp_property_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {%- capture zp_product_json_integration_content -%}{% capture zp_replace_integration %}<zp_product_json_integration>{% if zp_integrate_with_bold_quantity_breaks == true %}{% capture zp_product_json %}{% include 'bold-product', product: product, output: 'json' %}{% endcapture %}{% if zp_product_json contains 'Liquid error: Could not find asset' %}{{ product | json | default: 'null' }}{% else %}{{ zp_product_json | strip | default: 'null' }}{% endif %}{% assign zp_product_json = nil %}{% else %}{{ product | json | default: 'null' }}{% endif %}</zp_product_json_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_json_integration>', '' | replace: '</zp_product_json_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {%- capture zp_product_footer_integration_content -%}{% capture zp_replace_integration %}<zp_product_footer_integration></zp_product_footer_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_footer_integration>', '' | replace: '</zp_product_footer_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {%- capture zp_product_variants_container -%}{% if zp_show_variants_selectors == true %}<div class="{{ zp_product_variant_selector_wrapper_classes }}">{{ zp_additional_property_integration_content }}<select class="hidden noreplace" id="{{ zp_product_selector }}" name="id" data-productid="{{ product.id }}">{% assign zp_first_selected_variant_id = '' | append: zp_first_selected_variant.id %}{% for variant in zp_current_product_custom_variants %}{% assign zp_variant_id = '' | append: variant.id %}{% unless zp_selected_variants contains zp_variant_id %}{% continue %}{% endunless %}{{ zp_variant_integration_content }}{% if zp_integrate_with_bold_quantity_breaks == true %}{% include 'bold-variant' with variant, hide_action: 'skip' %}{% endif %}{% if variant.available %}{% if zp_first_selected_variant_id == zp_variant_id %}{% assign zp_option_selected_attr = 'selected="selected" ' %}{% else %}{% assign zp_option_selected_attr = '' %}{% endif %}<option {{ zp_option_selected_attr }}value="{{ variant.id }}">{{ variant.title }} - {{ variant.price | money_with_currency }}</option>{% else %}<option disabled="disabled">{{ variant.title }} - {% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}</option>{% endif %}{% endfor %}</select>{{ zp_property_integration_content }}</div>{% endif %}{%- endcapture -%}
        {%- capture zp_product_init_script -%}<script type="text/json" data-zp-product-init>{"translations":{"addToCart":"{{ zp_product_button_caption | url_escape }}"},"productSelector":"{{ zp_product_selector }}","selectedVariants":"{{ zp_selected_variants_list | url_escape }}","productType":"{{ zp_product_type }}","imageSize":"{{ '' | append: zp_current_product_image_size | strip | default: 'master' | url_escape }}","productDiscountData":"{{ zp_product_discount_data }}","initBuilder":{{ zp_any_product_variant_available | default: 'false' }},"sbscrbPriceRefresh":{{ zp_integrate_with_recharge | default: 'false' }},"calculateBundlePrice":{{ zp_product_calculate_bundle_price | default: 'false' }},"defaultQty":{{ 0 | plus: zp_product_default_quantity }},"imageSrcSetData":{{ zp_product_image_sizes_json }},"productBlockId":"{{ zp_product_block_id }}","variantLabelClasses":"zp {{ zp_product_variant_selector_classes }}","variantSelectorView":"{{ zp_product_variant_selector_view }}","preloadVariantImages":{{ zp_product_preload_variant_images }},"showVariantLabel":{{ zp_product_show_variant_selector_label }},"enableHistoryState":{{ zp_use_product_variant_from_url }},"productEntityType":"{{ zp_product_entity_type }}","imageGeneralContainer":{{ zp_use_general_product_image_container | default: false }},"productElementId":"{{ zp_product_element_id }}","updExternalPrice":{{ zp_update_external_product_price }},"optionsSettings":{{ zp_product_option_settings | default: '[]' }},"crossSell":{{ zp_cross_sell_config | default: '[]' }},"product":{{ zp_product_json_integration_content }}}</script>{%- endcapture -%} 
        {%- capture zp_product_quantity_container -%}{% if zp_show_variants_selectors == true %}{% if zp_product_show_quantity %}{% unless zp_product_show_quantity_label == false %}<label class="{% if zp_product_variant_selector_view == 'hz' %}{{ 'zpa-buybox__label zpa-offset-right-sm zpa-buybox__label zp' | append: zp_product_quantity_selector_label_classes | strip }}{% else %}{{ 'zp' | append: zp_product_quantity_selector_label_classes | strip }}{% endif %}" for="{{ zp_product_selector }}-quantity">{% assign zp_translation = 'products.product.quantity.label' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = 'products.product.quantity' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Quantity" %}{% endif %}{% endif %}{% assign zp_last_translation_char = zp_translation | strip | split: '' | last %}{% if zp_last_translation_char == ':' %}{{ zp_translation }}{% else %}{{ zp_translation }}:{% endif %}</label>{% endunless %}<div class="{% if zp_product_variant_selector_view == 'hz' %}zpa-quantity-block{% else %}zpa-quantity-block{% endif %}"><button class="zpa-btn-custom zpa-quantity-btn" type="button" data-zp-product-decrease-qty><svg class="zpa-quantity-icon" width="14px" height="14px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconDecrease"></use></svg></button><input id="{{ zp_product_selector }}-quantity" class="zpa-quantity-field xs" value="{{ zp_product_default_quantity }}" maxlength="3" size="3" type="tel" inputmode="numeric" required pattern="^[1-9][0-9]*" name="quantity" data-zp-product-quantity><button class="zpa-btn-custom zpa-quantity-btn" type="button" data-zp-product-increase-qty><svg class="zpa-quantity-icon" width="14px" height="14px"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#iconIncrease"></use></svg></button></div>{% else %}<input type="hidden" name="quantity" value="{{ zp_product_default_quantity }}" data-zp-product-quantity>{% endif %}{% endif %}{%- endcapture -%}
        {%- capture zp_product_button_integrations -%}{%- if zp_integrate_with_bold_quantity_breaks == true %}<div class="shappify-qty-msg">{{ bold_selected_or_first_available_variant.metafields.shappify_qb.pricing_html }}</div>{% endif -%}{% capture zp_replace_integration %}<zp_product_info_integration></zp_product_info_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_product_info_integration>', '' | replace: '</zp_product_info_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {%- capture zp_product_button_messages -%}{% if zp_show_variants_selectors_link_types contains zp_product_link_type %}<div class="{{ 'zpa-product-message__wrapper ' | append: zp_product_message_wrapper_classes | strip }}"><span class="{{ 'zpa-product-message hidden product-success zp ' | append: zp_product_add_to_cart_classes | strip }}" data-zp-product-messages data-zp-success-message="{{ zp_product_add_to_cart_msg }}"></span></div>{% endif %}<a href="{{ zp_redirect_product_url }}" target="{{ zp_product_button_link_target }}" style="display:none!important;" data-zp-product-redirect-link></a>{%- endcapture -%}
        {%- capture zp_product_additional_integrations -%}{% if zp_integrate_with_bold_product_options %}{% assign zp_include_bold_common_snippet = true %}<script>window.BOLD.common.Shopify.saveProduct({{ product.handle | json }},{{ product.id | json }},{{ product | json }});{% for variant in product.variants %}{% assign csp_metafield_namespace = variant.id | prepend: "csp" %}window.BOLD.common.Shopify.saveVariant({{ variant.id | json }},{variant:{{ variant | json }},inventory_quantity:{{ variant.inventory_quantity | json }},product_id:{{ product.id | json }},product_handle:{{ product.handle | json }},price:{{ variant.price | json }},variant_title:{{ variant.title | json }},group_id:"{{ variant.metafields.bold_rp.rp_group_id }}",csp_metafield:{{ product.metafields[csp_metafield_namespace] | json }}});{% endfor %}</script>{% endif %}{% if zp_integrate_with_bold_quantity_breaks == true %}{% include "bold-product" with product, hide_action: "break" %}{% if bold_hidden_product %}{% break %}{% endif %}{% endif %}{% capture zp_replace_integration %}<zp_additional_integration></zp_additional_integration>{% endcapture %}{{ zp_replace_integration | replace: '<zp_additional_integration>', '' | replace: '</zp_additional_integration>', '' | strip }}{% assign zp_replace_integration = '' %}{%- endcapture -%}
        {% assign zp_product_discount_data = zp_product_discount_data | split: ':' %}{% if zp_first_selected_variant.compare_at_price > zp_first_selected_variant.price %}{% assign zp_current_product_compare_at_price = zp_first_selected_variant.compare_at_price %}{% else %}{% assign zp_current_product_compare_at_price = nil %}{% endif %}{% assign zp_product_discount_amount_recalculate = true %}{% assign zp_product_discount_amount_money = false %}{% assign zp_product_discount_amount_prefix = '' %}{% assign zp_product_discount_amount_suffix = '' %}{% if zp_product_discount_data.size > 1 %}{% assign zp_product_discount_amount = 0 | plus: zp_product_discount_data[0] | abs %}{% assign zp_product_discount_type = '' | append: zp_product_discount_data[1] %}{% if zp_product_discount_type == 'percentage' or zp_product_discount_type == 'percentage_dynamic' %}{% assign zp_product_discount_amount_parts = '' | append: zp_product_discount_amount | split: '.' %}{% assign zp_product_discount_decimal_part = '' | append: zp_product_discount_amount_parts[1] | default: '0' %}{% assign zp_product_discount_decimal_part = 0 | plus: zp_product_discount_decimal_part %}{% unless zp_product_discount_decimal_part > 0 %}{% assign zp_product_discount_amount = zp_product_discount_amount_parts[0] %}{% endunless %}{% assign zp_product_discount_amount = 0 | plus: zp_product_discount_amount | at_most: 100 %}{% assign zp_product_saved_amount = zp_current_product_price | times: zp_product_discount_amount | divided_by: 100 | at_most: zp_current_product_price %}{% assign zp_product_discount_amount_recalculate = false %}{% assign zp_product_discount_amount_suffix = '%' %}{% elsif zp_product_discount_type == 'compare_price' %}{% if zp_current_product_compare_at_price %}{% assign zp_product_discount_amount = zp_current_product_compare_at_price | minus: zp_current_product_price %}{% else %}{% assign zp_product_discount_amount = 0 %}{% assign zp_unavailable_discount_class = 'hidden' %}{% endif %}{% assign zp_product_saved_amount = zp_product_discount_amount %}{% else %}{% assign zp_product_discount_amount = zp_product_discount_amount | times: 100 %}{% assign zp_product_discount_amount = '' | append: zp_product_discount_amount | split: '.' | first | default: 0 %}{% assign zp_product_discount_amount = 0 | plus: zp_product_discount_amount | at_most: zp_current_product_price %}{% assign zp_product_saved_amount = zp_product_discount_amount %}{% assign zp_product_discount_amount_money = true %}{% endif %}{% if zp_product_discount_type == 'compare_price' %}{% assign zp_product_sale_price = zp_current_product_price %}{% else %}{% assign zp_product_sale_price = zp_current_product_price | minus: zp_product_saved_amount %}{% endif %}{% assign zp_product_discount_amount_prefix = '-' %}{% else %}{% assign zp_product_sale_price = zp_current_product_price %}{% assign zp_unavailable_discount_class = 'hidden' %}{% endif %}{% if zp_product_calculate_bundle_price %}{% assign zp_current_product_price = zp_current_product_price | times: zp_product_default_quantity %}{% if zp_current_product_compare_at_price %}{% assign zp_current_product_compare_at_price = zp_current_product_compare_at_price | times: zp_product_default_quantity %}{% endif %}{% assign zp_product_sale_price = zp_product_sale_price | times: zp_product_default_quantity %}{% if zp_product_saved_amount %}{% assign zp_product_saved_amount = zp_product_saved_amount | times: zp_product_default_quantity %}{% endif %}{% if zp_product_discount_amount_recalculate %}{% assign zp_product_discount_amount = zp_product_discount_amount | times: zp_product_default_quantity %}{% endif %}{% endif %}{% assign zp_formatted_product_price = zp_current_product_price | money %}{% assign zp_formatted_product_sale_price = zp_product_sale_price | money %}{% assign zp_formatted_product_compare_at_price = zp_current_product_compare_at_price | money %}{% if zp_product_discount_amount_money %}{% assign zp_formatted_product_discount_amount = zp_product_discount_amount | money %}{% else %}{% assign zp_formatted_product_discount_amount = zp_product_discount_amount %}{% endif %}{% assign zp_formatted_product_discount_amount = zp_formatted_product_discount_amount | prepend: zp_product_discount_amount_prefix | append: zp_product_discount_amount_suffix %}{% if zp_product_saved_amount %}{% assign zp_formatted_product_saved_amount = zp_product_saved_amount | money %}{% endif %}{% assign zp_product_discount_data = zp_product_discount_data | join: ':' %}{% if zp_current_entity_metafields['config'].type == 'json' %}{% assign zp_products_static_discounts = zp_current_entity_metafields['config'].value['staticdiscounts'] %}{% else %}{% assign zp_products_static_discounts = zp_current_entity_metafields['config']['staticdiscounts'] %}{% endif %}{% assign zp_current_product_static_discount_code = zp_products_static_discounts[zp_product_element_id] %}{% if zp_current_product_static_discount_code != blank %}{% if zp_current_product_static_discount_code['only_cross_sell'] %}{% assign zp_product_discount_field_name_attr = 'data-zp-cross-sell-discount-field data-zp-name' %}{% else %}{% assign zp_product_discount_field_name_attr = 'name' %}{% endif %}{% assign zp_current_product_static_discount_html_field = '<input type="hidden" ' | append: zp_product_discount_field_name_attr | append: '="discount" value="' | append: zp_current_product_static_discount_code['code'] | append: '">' %}{% assign zp_product_quantity_container = zp_product_quantity_container | append: zp_current_product_static_discount_html_field %}{% endif %}{% assign zp_products_static_discounts = nil %}{% assign zp_current_product_static_discount_code = nil %}{% if zp_unit_price_enabled %}{% if zp_product_unit_price_tag_included %}{% if zp_first_selected_variant.unit_price_measurement %}{% assign zp_product_unit_price_wrapper_class = '' %}{% else %}{% assign zp_product_unit_price_wrapper_class = ' hidden' %}{% endif %}{% capture zp_product_unit_price_label %}{% assign zp_translation = 'products.product.unit_price_label' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = 'products.product.price.unit_price' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Unit Price" %}{% endif %}{% endif %}{{ zp_translation }}{% endcapture %}{% capture zp_product_unit_price_block %}<span data-zp-product-unit-price>{% if zp_first_selected_variant.unit_price_measurement %}{{ zp_first_selected_variant.unit_price | money }}{% endif %}</span><span> / </span><span data-zp-product-up-base-unit>{% if zp_first_selected_variant.unit_price_measurement %}{% if zp_first_selected_variant.unit_price_measurement.reference_value != 1 %}{{ zp_first_selected_variant.unit_price_measurement.reference_value }}{% endif %}{{ zp_first_selected_variant.unit_price_measurement.reference_unit }}{% endif %}</span>{% endcapture %}{% else %}{% capture zp_product_unit_price_block %}{% if zp_unit_price_enabled %}<div class="zpa-offset-bottom-xs{% unless zp_first_selected_variant.unit_price_measurement %} hidden{% endunless %}" data-zp-product-unit-price-wrapper><div class="zpa-dynamic-buy-box__label--xs">{% assign zp_translation = 'products.product.unit_price_label' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = 'products.product.price.unit_price' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Unit Price" %}{% endif %}{% endif %}{{ zp_translation }}:</div><span data-zp-product-unit-price>{% if zp_first_selected_variant.unit_price_measurement %}{{ zp_first_selected_variant.unit_price | money }}{% endif %}</span><span> / </span><span data-zp-product-up-base-unit>{% if zp_first_selected_variant.unit_price_measurement %}{% if zp_first_selected_variant.unit_price_measurement.reference_value != 1 %}{{ zp_first_selected_variant.unit_price_measurement.reference_value }}{% endif %}{{ zp_first_selected_variant.unit_price_measurement.reference_unit }}{% endif %}</span></div>{% endif %}{% endcapture %}{% assign zp_product_variants_container = zp_product_unit_price_block | append: zp_product_variants_container %}{% endif %}{% endif %} 
        {% endform %}{% endcapture -%}{% assign zp_product_form_open_tag = zp_product_form_open_tag | remove: '</form>' | strip %} 
      {%- else -%}
        {%- if zp_product_found %}{% assign zp_unavailable_linked_block_class = '' %}{% assign zp_unavailable_product_block_wrapper_class = ' hidden' %}{% endif -%}{%- if zp_render_products_from_tag and zp_product_content_parts contains zp_opened_cross_sell_tag -%}{% assign zp_product_with_cross_sell_tag = true %}{%- else -%}{% assign zp_product_with_cross_sell_tag = false %}{%- endif -%}{% assign zp_cross_sell_product = nil %}{% assign zp_cross_sell_handle = '' %}{% assign zp_cross_sell_selected_variants = '' %}{% assign zp_cross_sell_selected_variants_list = '' %}{% assign zp_cross_sell_block_id = '' %}{% assign zp_current_cross_sell_image_size = nil %}{% assign zp_cross_sell_image_sizes_json = '[]' %}{% assign zp_cross_sell_show_variant_selector_label = true %}{% assign zp_cross_sell_variant_selector_view = 'vt' %}{% assign zp_cross_sell_discount_amount = nil %}{% assign zp_cross_sell_saved_amount = nil %}{% assign zp_current_cross_sell_price = nil %}{% assign zp_current_cross_sell_compare_at_price = nil %}{% assign zp_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_price = nil %}{% assign zp_cross_sell_image = 'no-image.gif' | img_url: '280x' %}{% assign zp_formatted_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_compare_at_price = nil %}{% assign zp_formatted_cross_sell_saved_amount = nil %}{% assign zp_formatted_cross_sell_discount_amount = nil %}{% assign zp_unavailable_cross_sell_class = ' hidden' %}{% assign zp_cross_sell_unavailable_discount_class = ' hidden' %}{% assign zp_unavailable_cross_sell_quantity_class = ' hidden' %}{% assign zp_cross_sell_unit_price_wrapper_class = ' hidden' %}{% assign zp_cross_sell_image_data_attrs = nil %}{% assign zp_cross_sell_variants_container = nil %}{% assign zp_cross_sell_quantity_container = nil %}{% assign zp_cross_sell_product_messages = nil %}{% assign zp_cross_sell_first_selected_variant = nil %}{% assign zp_current_cross_sell_custom_variants = nil %}{% assign zp_cross_sell_element_id = nil %}{% assign zp_cross_sell_unit_price_block = nil %}{% assign zp_cross_sell_available = false %}{% assign zp_cross_sell_load_main_image = true %}{% assign zp_cross_sell_show_quantity_label = true %}{% assign zp_cross_sell_default_quantity = '1' %}{% assign zp_cross_sell_inventory_messages = nil %}{% assign zp_cross_sell_image_type = 'product' %}{% assign zp_cross_sell_discount_data = '' %}{% assign zp_cross_sell_show_quantity = true %}{% assign zp_cross_sell_view_type = 'crosssellproduct' %}{% assign zp_cross_sell_product_found = false %}{% assign zp_cross_sell_unit_price_tag_included = false %}{% assign zp_cross_sell_image_lazy_load = false %}{%- if zp_render_products_from_metafield -%}{% assign zp_cross_sell_content_parts = zp_current_product_settings['crsslls'] %}{% for zp_cross_sell_content_part in zp_cross_sell_content_parts %}{% assign zp_cross_sell_block_marker = zp_cross_sell_content_part | first %}{% assign zp_cross_sell_product_iterator = zp_cross_sell_product_iterator | plus: 1 %}{% assign zp_cross_sell_selector = 'zpcrosssellselector' | append: zp_product_selector_suffix | append: zp_cross_sell_product_iterator %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_selector | append: zp_main_product_selector_suffix %}{% assign zp_cross_sell_empty_wrapper_selector = zp_cross_sell_wrapper_selector | append: '-empty' %}{% capture zp_current_replace_item %}zp_cross_sell_wrapper_selector_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_empty_wrapper_selector %}{% capture zp_current_replace_item %}<zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '<div style="display:none!important">' %}{% capture zp_current_replace_item %}</zpdcsprdct_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '</div>' %}{% capture zp_current_replace_item %}zp_cross_sell_wrapper_selector_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_wrapper_selector %}{% capture zp_current_replace_item %}zps_csimgsrc_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image %}{% capture zp_current_replace_item %}<zpcsslprc_{{ zp_cross_sell_block_marker }}></zpcsslprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_sale_price %}{% capture zp_current_replace_item %}<zpcsprc_{{ zp_cross_sell_block_marker }}></zpcsprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_price %}{% capture zp_current_replace_item %}<zpcscompareprc_{{ zp_cross_sell_block_marker }}></zpcscompareprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_compare_at_price %}{% capture zp_current_replace_item %}<zpcssvdprc_{{ zp_cross_sell_block_marker }}></zpcssvdprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_saved_amount %}{% capture zp_current_replace_item %}<zpcsdcsamnt_{{ zp_cross_sell_block_marker }}></zpcsdcsamnt_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_cross_sell_discount_amount %}{% capture zp_current_replace_item %}zps_csunvavlblprdcl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_class %}{% capture zp_current_replace_item %}zps_csunavlbldccl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unavailable_discount_class %}{% capture zp_current_replace_item %}zps_csimgdattr_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_image_data_attrs %}{% capture zp_current_replace_item %}zps_csunvavlblqtycl_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_quantity_class %}{% capture zp_current_replace_item %}<zpcsvrnts_{{ zp_cross_sell_block_marker }}></zpcsvrnts_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_variants_container %}{% capture zp_current_replace_item %}<zpcsqtyctrl_{{ zp_cross_sell_block_marker }}></zpcsqtyctrl_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_quantity_container %}{% capture zp_current_replace_item %}<zpcspmsg_{{ zp_cross_sell_block_marker }}></zpcspmsg_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_product_messages %}{% capture zp_current_replace_item %}<zpcsunprc_{{ zp_cross_sell_block_marker }}></zpcsunprc_{{ zp_cross_sell_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_block %}{% capture zp_current_replace_item %}zps_unvavlblcsunp_{{ zp_cross_sell_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_cross_sell_unit_price_wrapper_class %}{% assign zp_current_replace_item = nil %}{% endfor %}{%- elsif zp_product_with_cross_sell_tag -%}{% assign zp_cross_sell_product_iterator = zp_cross_sell_product_iterator | plus: 1 %}{% assign zp_cross_sell_selector = 'zpcrosssellselector' | append: zp_product_selector_suffix | append: zp_cross_sell_product_iterator %}{% assign zp_cross_sell_wrapper_selector = zp_cross_sell_selector | append: zp_main_product_selector_suffix %}{% assign zp_cross_sell_empty_wrapper_selector = zp_cross_sell_wrapper_selector | append: '-empty' %}{% assign zp_product_content_parts = zp_product_content_parts | replace: 'zp_cross_sell_wrapper_selector', zp_cross_sell_empty_wrapper_selector | replace: zp_opened_cross_sell_tag, '<div style="display:none!important" ' | replace: zp_closed_cross_sell_tag, '</div>' | replace: 'zp_cross_sell_wrapper_selector', zp_cross_sell_wrapper_selector | replace: 'zps_csimgsrc', zp_cross_sell_image | replace: '<zpcsslprc></zpcsslprc>', zp_formatted_cross_sell_sale_price | replace: '<zpcsprc></zpcsprc>', zp_formatted_cross_sell_price | replace: '<zpcscompareprc></zpcscompareprc>', zp_formatted_cross_sell_compare_at_price | replace: '<zpcssvdprc></zpcssvdprc>', zp_formatted_cross_sell_saved_amount | replace: '<zpcsdcsamnt></zpcsdcsamnt>', zp_formatted_cross_sell_discount_amount | replace: 'zps_csunvavlblprdcl', zp_unavailable_cross_sell_class | replace: 'zps_csunavlbldccl', zp_cross_sell_unavailable_discount_class | replace: 'zps_csimgdattr', zp_cross_sell_image_data_attrs | replace: 'zps_csunvavlblqtycl', zp_unavailable_cross_sell_quantity_class | replace: '<zpcsvrnts></zpcsvrnts>', zp_cross_sell_variants_container | replace: '<zpcsqtyctrl></zpcsqtyctrl>', zp_cross_sell_quantity_container | replace: '<zpcspmsg></zpcspmsg>', zp_cross_sell_product_messages | replace: '<zpcsunprc></zpcsunprc>', zp_cross_sell_unit_price_block | replace: 'zps_unvavlblcsunp', zp_cross_sell_unit_price_wrapper_class %}{%- endif -%} 
      {%- endif -%}{% if zp_product_found %}{% capture zp_product_button_text %}<span class="zpa-btn-custom__caption" data-zp-add-to-cart-text>{% if zp_any_product_variant_available == true %}{{ zp_product_button_caption }}{% else %}{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}{% endif %}</span><svg class="zpa-btn-loader zpa-btn-custom__icon" width="14px" height="14px"><use xlink:href="#buyButtonLoader"></use></svg>{% endcapture %}{% capture zp_product_sticky_button_text %}<span class="zpa-btn-custom__caption" >{% if zp_any_product_variant_available == true %}{{ zp_product_sticky_button_caption }}{% else %}{% assign zp_translation = 'products.product.sold_out' | t %}{% if zp_translation contains 'translation missing' %}{% assign zp_translation = "Sold Out" %}{% endif %}{{ zp_translation }}{% endif %}</span><svg class="zpa-btn-loader zpa-btn-custom__icon" width="14px" height="14px"><use xlink:href="#buyButtonLoader"></use></svg>{% endcapture %}{% endif %}{% assign zp_hard_set_display_product_markup = false %}{% assign zp_tmp_display_product_markup = zp_display_product_markup %}{% if zp_use_current_entity_markup and zp_product_view_type == 'dynamicproductsection' %}{% assign zp_include_product_markup = true %}{% assign zp_hard_set_display_product_markup = true %}{% elsif zp_use_product_markup %}{% assign zp_include_product_markup = true %}{% else %}{% assign zp_include_product_markup = false %}{% endif %}{% if zp_include_product_markup %}{% if zp_hard_set_display_product_markup %}{% assign zp_display_product_markup = true %}{% endif %}{%- if zp_product_found and zp_display_product_markup -%}{% assign zp_product_custom_url = 'https://' | append: shop.domain | append: zp_current_entity.url %}{% assign zp_product_custom_title = zp_product_custom_title | strip_html | strip | default: product.title | strip_html | strip %}{% assign zp_product_custom_description = zp_product_custom_description | strip_html | strip | default: product.description | strip_html | strip %}{% assign zp_product_custom_featured_image = product.featured_image | img_url: '1020x' %}{% assign zp_product_custom_image = zp_product_custom_image | strip | default: zp_product_image | strip | default: zp_product_custom_featured_image %}{% if zp_product_custom_image contains '/default_images_product_icon_360x240.jpg' %}{% assign zp_product_custom_image = zp_product_custom_featured_image %}{% endif %}{% assign zp_product_custom_price = zp_product_sale_price | default: zp_sale_price | default: zp_current_product_price | default: zp_first_selected_variant.price | default: product.price | divided_by: 100.00 | round: 2 %}{% assign zp_product_custom_sku = zp_first_selected_variant.sku %}{% assign zp_product_custom_vendor = product.vendor | escape %}{% if zp_any_product_variant_available %}{% assign zp_product_custom_availability = 'InStock' %}{% else %}{% assign zp_product_custom_availability = 'OutOfStock' %}{% endif %}{% assign zp_shop_custom_currency = shop.currency | escape %}{% if zp_use_product_stamped_rating %}{% assign zp_product_review_data = product.metafields.stamped %}{% if zp_product_review_data.reviews_count != '0' %}{% assign zp_product_review_rating = zp_product_review_data.reviews_average | round: 2 %}{% assign zp_product_review_count = zp_product_review_data.reviews_count %}{% endif %}{% elsif zp_use_product_yotpo_rating %}{% assign zp_product_review_data = product.metafields.yotpo %}{% if zp_product_review_data.reviews_count != '0' %}{% assign zp_product_review_rating = zp_product_review_data.reviews_average %}{% assign zp_product_review_count = zp_product_review_data.reviews_count %}{% endif %}{% elsif zp_use_product_loox_rating %}{% assign zp_product_review_data = product.metafields.loox %}{% if zp_product_review_data.num_reviews %}{% assign zp_product_review_rating = zp_product_review_data.avg_rating %}{% assign zp_product_review_count = zp_product_review_data.num_reviews %}{% endif %}{% elsif zp_use_product_judgeme_rating %}{% assign zp_product_review_data = product.judgeme.badge %}{% if zp_product_review_data %}{% assign zp_product_review_data = ' ' | append: zp_product_review_data | append: ' ' %}{% assign zp_product_review_rating_data = zp_product_review_data | split: ' data-average-rating=' %}{% assign zp_product_review_rating_data = zp_product_review_rating_data[1] | strip | split: ' ' | first | strip | remove: '"' | remove: "'" | split: '' %}{% assign zp_product_review_available_chars = '1234567890.' | split: '' %}{% assign zp_product_review_rating = '' %}{% for zp_product_review_rating_char in zp_product_review_rating_data %}{% if zp_product_review_available_chars contains zp_product_review_rating_char %}{% assign zp_product_review_rating = zp_product_review_rating | append: zp_product_review_rating_char %}{% else %}{% break %}{% endif %}{% endfor %}{% assign zp_product_review_rating = 0 | plus: zp_product_review_rating %}{% unless zp_product_review_rating > 0 %}{% assign zp_product_review_rating = nil %}{% endunless %}{% assign zp_product_review_rating_data = zp_product_review_data | split: ' data-number-of-reviews=' %}{% assign zp_product_review_rating_data = zp_product_review_rating_data[1] | strip | split: ' ' | first | strip | remove: '"' | remove: "'" | split: '' %}{% assign zp_product_review_available_chars = '1234567890' | split: '' %}{% assign zp_product_review_count = '' %}{% for zp_product_review_rating_char in zp_product_review_rating_data %}{% if zp_product_review_available_chars contains zp_product_review_rating_char %}{% assign zp_product_review_count = zp_product_review_count | append: zp_product_review_rating_char %}{% else %}{% break %}{% endif %}{% endfor %}{% assign zp_product_review_count = 0 | plus: zp_product_review_count %}{% unless zp_product_review_count > 0 %}{% assign zp_product_review_count = nil %}{% endunless %}{% endif %}{% else %}{% assign zp_product_review_rating = nil %}{% assign zp_product_review_count = nil %}{% endif %}{% assign zp_product_review_data = nil %}{%- endif -%}{% capture zp_replace_integration %}<zp_product_additional_footer_integration></zp_product_additional_footer_integration>{% endcapture %}{% assign zp_replace_integration = '' %}{% capture zp_product_markup_integration %}{% if zp_product_found and zp_display_product_markup %}<script type="application/ld+json">{"@context":"http:\/\/schema.org\/","@type":"Product",{% if zp_product_custom_vendor != blank %}"brand":{"@type":"Thing","name":{{ zp_product_custom_vendor | json }}},{% endif %}"name":{{ zp_product_custom_title | json }},"description":{{ zp_product_custom_description | json }},"url":{{ zp_product_custom_url | json }},"image":{{ zp_product_custom_image | json }},{% if zp_product_custom_sku != blank %}"sku":{{ zp_product_custom_sku | json }},{% endif %}"offers":{"@type":"Offer","url":{{ zp_product_custom_url | json }},"priceCurrency":{{ zp_shop_custom_currency | json }},"price":{{ zp_product_custom_price | json }},"availability":"http:\/\/schema.org\/{{ zp_product_custom_availability }}"}{% if zp_product_review_count %},"aggregateRating":{"@type":"AggregateRating","ratingValue":{{ zp_product_review_rating | json }},"ratingCount":{{ zp_product_review_count | json }}}{% endif %}}</script>{% endif %}{% endcapture %}{% assign zp_display_product_markup = zp_tmp_display_product_markup %}{% assign zp_tmp_display_product_markup = nil %}{% else %}{% assign zp_product_markup_integration = '' %}{% endif %}{% if zp_render_products_from_tag and zp_product_view_type == 'dynamicproductsection' %}{% assign zp_selected_variant_image_id = zp_first_selected_variant.image.id %}{% if zp_selected_variant_image_id != blank %}{% assign zp_carousel_image_id_search = ' data-pc-thumb-img="' | append: zp_selected_variant_image_id | append: '"' %}{% assign zp_carousel_image_id_replace = zp_carousel_image_id_search | append: ' data-default-active' %}{% assign zp_product_content_parts = zp_product_content_parts | replace: zp_carousel_image_id_search, zp_carousel_image_id_replace %}{% endif %}{% endif %} 
    {%- endif -%}{% if zp_render_products_from_metafield %}{% assign zp_additional_product_footer_data = '' | append: zp_product_additional_integrations | append: zp_product_init_script | append: zp_product_markup_integration | append: zp_product_footer_integration_content %}{% capture zp_current_replace_item %}zp_product_wrapper_selector_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_wrapper_selector %}{% capture zp_current_replace_item %}<zpprdprc_{{ zp_product_block_marker }}></zpprdprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_product_price %}{% capture zp_current_replace_item %}<zpprdcompareprc_{{ zp_product_block_marker }}></zpprdcompareprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_product_compare_at_price %}{% capture zp_current_replace_item %}<zpprdvrnts_{{ zp_product_block_marker }}></zpprdvrnts_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_variants_container %}{% capture zp_current_replace_item %}<zpprdqtyctrl_{{ zp_product_block_marker }}></zpprdqtyctrl_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_quantity_container %}{% capture zp_current_replace_item %}<zpprdform_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_form_open_tag %}{% capture zp_current_replace_item %}</zpprdform_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_form_closed_tag %}{% capture zp_current_replace_item %}zps_unvavlblprdcl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_product_class %}{% capture zp_current_replace_item %}zps_unavlbldccl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_discount_class %}{% capture zp_current_replace_item %}zps_unvavlblqtycl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_quantity_class %}{% capture zp_current_replace_item %}<zpprdbtntxt_{{ zp_product_block_marker }}></zpprdbtntxt_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_button_text %}{% capture zp_current_replace_item %}<zpprdstkbtntxt_{{ zp_product_block_marker }}></zpprdstkbtntxt_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_sticky_button_text %}{% capture zp_current_replace_item %}zps_prdbtntp_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_button_type %}{% capture zp_current_replace_item %}<zpprdbtnintgr_{{ zp_product_block_marker }}></zpprdbtnintgr_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_button_integrations %}{% capture zp_current_replace_item %}<zpprdbtnmsg_{{ zp_product_block_marker }}></zpprdbtnmsg_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_button_messages %}{% capture zp_current_replace_item %}zps_prdimgsrc_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_image %}{% capture zp_current_replace_item %}zps_prdimgdattr_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_image_data_attrs %}{% capture zp_current_replace_item %}<zpprdslprc_{{ zp_product_block_marker }}></zpprdslprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_product_sale_price %}{% capture zp_current_replace_item %}<zpprdsvdprc_{{ zp_product_block_marker }}></zpprdsvdprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_product_saved_amount %}{% capture zp_current_replace_item %}<zpprddcsamnt_{{ zp_product_block_marker }}></zpprddcsamnt_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_formatted_product_discount_amount %}{% capture zp_current_replace_item %}<zpprdimgldr_{{ zp_product_block_marker }}></zpprdimgldr_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_image_loader_content %}{% capture zp_current_replace_item %}<zppradtnfintgr_{{ zp_product_block_marker }}></zppradtnfintgr_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_additional_footer_integration %}{% capture zp_current_replace_item %}<zpprdunprc_{{ zp_product_block_marker }}></zpprdunprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_unit_price_block %}{% capture zp_current_replace_item %}<zpprdunplb_{{ zp_product_block_marker }}></zpprdunplb_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_unit_price_label %}{% capture zp_current_replace_item %}zps_unvavlblprdunp_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_product_unit_price_wrapper_class %}{% capture zp_current_replace_item %}zps_csunvavlblgcl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_cross_sell_wrapper_class %}{% capture zp_current_replace_item %}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, '' %}{% capture zp_current_replace_item %}<zpdprdct_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, "" %}{% capture zp_current_replace_item %}</zpdprdct_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_additional_product_footer_data %}{% assign zp_current_replace_item = nil %}{% if zp_product_sold_out_view_enabled %}{% capture zp_current_replace_item %}zps_unvavlblprdwcl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_product_block_wrapper_class %}{% capture zp_current_replace_item %}zps_unvavlbllnkcl_{{ zp_product_block_marker }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_linked_block_class %}{% assign zp_current_replace_item = nil %}{% endif %}{% else %}{% assign zp_product_content_parts = zp_product_content_parts | replace: 'zp_product_wrapper_selector', zp_product_wrapper_selector | replace: '<zpprdprc></zpprdprc>', zp_formatted_product_price | replace: '<zpprdcompareprc></zpprdcompareprc>', zp_formatted_product_compare_at_price | replace: '<zpprdvrnts></zpprdvrnts>', zp_product_variants_container | replace: '<zpprdqtyctrl></zpprdqtyctrl>', zp_product_quantity_container | replace: '<zpprdform>', zp_product_form_open_tag | replace: '</zpprdform>', zp_product_form_closed_tag | replace: 'zps_unvavlblprdcl', zp_unavailable_product_class | replace: 'zps_unavlbldccl', zp_unavailable_discount_class | replace: 'zps_unvavlblqtycl', zp_unavailable_quantity_class | replace: '<zpprdbtntxt></zpprdbtntxt>', zp_product_button_text | replace: '<zpprdstkbtntxt></zpprdstkbtntxt>', zp_product_sticky_button_text | replace: 'zps_prdbtntp', zp_product_button_type | replace: '<zpprdbtnintgr></zpprdbtnintgr>', zp_product_button_integrations | replace: '<zpprdbtnmsg></zpprdbtnmsg>', zp_product_button_messages | replace: 'zps_prdimgsrc', zp_product_image | replace: 'zps_prdimgdattr', zp_product_image_data_attrs | replace: '<zpprdslprc></zpprdslprc>', zp_formatted_product_sale_price | replace: '<zpprdsvdprc></zpprdsvdprc>', zp_formatted_product_saved_amount | replace: '<zpprddcsamnt></zpprddcsamnt>', zp_formatted_product_discount_amount | replace: '<zpprdimgldr></zpprdimgldr>', zp_product_image_loader_content | replace: '<zppradtnfintgr></zppradtnfintgr>', zp_product_additional_footer_integration | replace: '<zpprdunprc></zpprdunprc>', zp_product_unit_price_block | replace: '<zpprdunplb></zpprdunplb>', zp_product_unit_price_label | replace: 'zps_unvavlblprdunp', zp_product_unit_price_wrapper_class | replace: 'zps_csunvavlblgcl', zp_unavailable_cross_sell_wrapper_class | replace: '<zpprdmrkp></zpprdmrkp>', '' %}{% assign zp_current_entity_content = zp_current_entity_content | append: zp_product_additional_integrations | append: zp_product_content_parts | append: zp_product_init_script | append: zp_product_markup_integration | append: zp_product_footer_integration_content | append: zp_product_content[1] %}{% if zp_product_sold_out_view_enabled %}{% capture zp_current_replace_item %}zps_unvavlblprdwcl_{{ zp_product_element_id }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_product_block_wrapper_class %}{% capture zp_current_replace_item %}zps_unvavlbllnkcl_{{ zp_product_element_id }}{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_current_replace_item, zp_unavailable_linked_block_class %}{% assign zp_current_replace_item = nil %}{% endif %}{% endif %}{% if zp_product_static_price_content.size > 0 %}{% assign zp_product_static_price_content = zp_product_static_price_content | replace: '\u0026', '&' | replace: '\u003c', '<' | replace: '\u003e', '>' | replace: '\u0022', '"' %}{% if zp_app_integrations contains 'bestcurrencyconverter' %}{% assign zp_static_price = zp_product_static_price_content | strip | strip_html | split: '' %}{% assign zp_static_selected_prices = '' %}{% assign zp_available_chars = "0123456789,. '" | split: '' %}{% assign zp_price_delimiter_detected = false %}{% for zp_tmp_part in zp_static_price %}{% if zp_available_chars contains zp_tmp_part %}{% if zp_tmp_part == ',' or zp_tmp_part == '.' %}{% assign zp_price_delimiter_detected = true %}{% assign zp_static_price_char = zp_tmp_part %}{% elsif zp_tmp_part == ' ' and zp_price_delimiter_detected %}{% assign zp_price_delimiter_detected = false %}{% assign zp_static_price_char = '__zp1637066348__' %}{% else %}{% assign zp_static_price_char = zp_tmp_part %}{% endif %}{% else %}{% assign zp_static_price_char = '__zp1637066348__' %}{% endif %}{% assign zp_static_selected_prices = zp_static_selected_prices | append: zp_static_price_char %}{% endfor %}{% assign zp_static_price = '' %}{% assign zp_static_selected_prices = zp_static_selected_prices | split: '__zp1637066348__' %}{% for zp_tmp_part in zp_static_selected_prices %}{% assign zp_tmppart = '' | append: zp_tmp_part | strip %}{% if zp_tmppart.size > 0 %}{% assign zp_tmppart = zp_amount_format_template | replace: zp_amount_template, zp_tmppart %}{% assign zp_tmppart_without_html = zp_tmppart | strip_html | strip %}{% assign zp_product_static_price_content = zp_product_static_price_content | replace: zp_tmppart_without_html, zp_tmppart %}{% endif %}{% endfor %}{% assign zp_static_selected_prices = '' %}{% assign zp_available_chars = '' %}{% assign zp_tmppart = '' %}{% assign zp_tmppart_without_html = '' %}{% endif %}{% if zp_render_products_from_metafield %}{% capture zp_updated_product_price %}<zpprdstcprc_{{ zp_product_block_marker }}></zpprdstcprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_current_entity_content = zp_current_entity_content | replace: zp_updated_product_price, zp_product_static_price_content %}{% else %}{% assign zp_product_content_parts = zp_product_content_parts | replace: '<zpprdstcprc_></zpprdstcprc_>', zp_product_static_price_content %}{% endif %}{% endif %}{% if zp_product_static_compare_price_content.size > 0 %}{% assign zp_product_static_compare_price_content = zp_product_static_compare_price_content | replace: '\u0026', '&' | replace: '\u003c', '<' | replace: '\u003e', '>' | replace: '\u0022', '"' %}{% if zp_app_integrations contains 'bestcurrencyconverter' %}{% assign zp_static_price = zp_product_static_compare_price_content | strip | strip_html | split: '' %}{% assign zp_static_selected_prices = '' %}{% assign zp_available_chars = "0123456789,. '" | split: '' %}{% assign zp_price_delimiter_detected = false %}{% for zp_tmp_part in zp_static_price %}{% if zp_available_chars contains zp_tmp_part %}{% if zp_tmp_part == ',' or zp_tmp_part == '.' %}{% assign zp_price_delimiter_detected = true %}{% assign zp_static_price_char = zp_tmp_part %}{% elsif zp_tmp_part == ' ' and zp_price_delimiter_detected %}{% assign zp_price_delimiter_detected = false %}{% assign zp_static_price_char = '__zp1637066348__' %}{% else %}{% assign zp_static_price_char = zp_tmp_part %}{% endif %}{% else %}{% assign zp_static_price_char = '__zp1637066348__' %}{% endif %}{% assign zp_static_selected_prices = zp_static_selected_prices | append: zp_static_price_char %}{% endfor %}{% assign zp_static_price = '' %}{% assign zp_static_selected_prices = zp_static_selected_prices | split: '__zp1637066348__' %}{% for zp_tmp_part in zp_static_selected_prices %}{% assign zp_tmppart = '' | append: zp_tmp_part | strip %}{% if zp_tmppart.size > 0 %}{% assign zp_tmppart = zp_amount_format_template | replace: zp_amount_template, zp_tmppart %}{% assign zp_tmppart_without_html = zp_tmppart | strip_html | strip %}{% assign zp_product_static_compare_price_content = zp_product_static_compare_price_content | replace: zp_tmppart_without_html, zp_tmppart %}{% endif %}{% endfor %}{% assign zp_static_selected_prices = '' %}{% assign zp_available_chars = '' %}{% assign zp_tmppart = '' %}{% assign zp_tmppart_without_html = '' %}{% endif %}{% if zp_render_products_from_metafield %}{% capture zp_updated_product_price %}<zpprdstccprprc_{{ zp_product_block_marker }}></zpprdstccprprc_{{ zp_product_block_marker }}>{% endcapture %}{% assign zp_product_content_parts = zp_product_content_parts | replace: zp_updated_product_price, zp_product_static_compare_price_content %}{% else %}{% assign zp_product_content_parts = zp_product_content_parts | replace: '<zpprdstccprprc_></zpprdstccprprc_>', zp_product_static_compare_price_content %}{% endif %}{% endif %} 
  {%- endif -%}
{%- endfor -%}{% assign zp_product_image_size = nil %}{% assign zp_first_selected_variant = nil %}{% assign zp_product_variants_container = nil %}{% assign zp_product_quantity_container = nil %}{% assign zp_product_button_text = nil %}{% assign zp_product_sticky_button_text = nil %}{% assign zp_product_form_open_tag = nil %}{% assign zp_product_form_closed_tag = nil %}{% assign zp_unavailable_product_class = nil %}{% assign zp_unavailable_product_block_wrapper_class = nil %}{% assign zp_unavailable_linked_block_class = nil %}{% assign zp_unavailable_discount_class = nil %}{% assign zp_unavailable_quantity_class = nil %}{% assign zp_product_button_type = nil %}{% assign zp_product_button_integrations = nil %}{% assign zp_product_button_messages = nil %}{% assign zp_entity_products = nil %}{% assign zp_product_content = nil %}{% assign zp_product_content_parts = nil %}{% assign zp_product_handle = nil %}{% assign zp_product_setting_key = nil %}{% assign zp_product_setting_value = nil %}{% assign zp_additional_property_integration_content = nil %}{% assign zp_variant_integration_content = nil %}{% assign zp_property_integration_content = nil %}{% assign zp_product_json_integration_content = nil %}{% assign zp_product_footer_integration_content = nil %}{% assign zp_product_discount_amount = nil %}{% assign zp_formatted_product_discount_amount = nil %}{% assign zp_product_saved_amount = nil %}{% assign zp_formatted_product_saved_amount = nil %}{% assign zp_current_product_price = nil %}{% assign zp_current_product_compare_at_price = nil %}{% assign zp_sale_price = nil %}{% assign zp_product_sale_price = nil %}{% assign zp_formatted_product_sale_price = nil %}{% assign zp_formatted_product_price = nil %}{% assign zp_formatted_product_compare_at_price = nil %}{% assign zp_product_custom_url = nil %}{% assign zp_product_custom_title = nil %}{% assign zp_product_custom_description = nil %}{% assign zp_product_custom_featured_image = nil %}{% assign zp_product_custom_image = nil %}{% assign zp_product_custom_price = nil %}{% assign zp_product_custom_sku = nil %}{% assign zp_product_custom_vendor = nil %}{% assign zp_product_custom_availability = nil %}{% assign zp_shop_custom_currency = nil %}{% assign zp_use_product_stamped_rating = nil %}{% assign zp_use_product_yotpo_rating = nil %}{% assign zp_use_product_loox_rating = nil %}{% assign zp_use_product_judgeme_rating = nil %}{% assign zp_product_review_rating = nil %}{% assign zp_product_review_count = nil %}{% assign zp_product_found = false %}{% assign zp_updated_product_price = nil %}{% assign zp_additional_product_footer_data = nil %}{% assign zp_product_init_script = nil %}{% assign zp_product_additional_integrations = nil %}{% assign zp_use_product_variant_from_url = false %}{% assign zp_product_as_current_entity = false %}{% assign zp_product_entity_type = nil %}{% assign zp_current_product_custom_variants = nil %}{% assign zp_product_element_id = nil %}{% assign zp_product_unit_price = '' %}{% assign zp_product_image_lazy_load = false %}{% assign zp_use_product_form_action = false %}{% assign zp_use_product_form_id = false %}{% assign zp_product_form_id_val = nil %}{% assign zp_product_form_custom_classes = nil %}{% assign zp_product_calculate_bundle_price = false %}{% assign zp_cross_sell_config = nil %}{% assign zp_cross_sell_content_parts = nil %}{% assign zp_cross_sell_content = nil %}{% assign zp_product_option_settings = nil %}{% assign zp_cross_sell_product = nil %}{% assign zp_cross_sell_handle = '' %}{% assign zp_cross_sell_selected_variants = '' %}{% assign zp_cross_sell_selected_variants_list = '' %}{% assign zp_cross_sell_block_id = '' %}{% assign zp_current_cross_sell_image_size = nil %}{% assign zp_cross_sell_image_sizes_json = '[]' %}{% assign zp_cross_sell_show_variant_selector_label = true %}{% assign zp_cross_sell_variant_selector_view = 'vt' %}{% assign zp_cross_sell_discount_amount = nil %}{% assign zp_cross_sell_saved_amount = nil %}{% assign zp_current_cross_sell_price = nil %}{% assign zp_current_cross_sell_compare_at_price = nil %}{% assign zp_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_price = nil %}{% assign zp_cross_sell_image = 'no-image.gif' | img_url: '280x' %}{% assign zp_formatted_cross_sell_sale_price = nil %}{% assign zp_formatted_cross_sell_compare_at_price = nil %}{% assign zp_formatted_cross_sell_saved_amount = nil %}{% assign zp_formatted_cross_sell_discount_amount = nil %}{% assign zp_unavailable_cross_sell_class = ' hidden' %}{% assign zp_cross_sell_unavailable_discount_class = ' hidden' %}{% assign zp_unavailable_cross_sell_quantity_class = ' hidden' %}{% assign zp_cross_sell_unit_price_wrapper_class = ' hidden' %}{% assign zp_cross_sell_image_data_attrs = nil %}{% assign zp_cross_sell_variants_container = nil %}{% assign zp_cross_sell_quantity_container = nil %}{% assign zp_cross_sell_product_messages = nil %}{% assign zp_cross_sell_first_selected_variant = nil %}{% assign zp_current_cross_sell_custom_variants = nil %}{% assign zp_cross_sell_element_id = nil %}{% assign zp_cross_sell_unit_price_block = nil %}{% assign zp_cross_sell_available = false %}{% assign zp_cross_sell_load_main_image = true %}{% assign zp_cross_sell_show_quantity_label = true %}{% assign zp_cross_sell_default_quantity = '1' %}{% assign zp_cross_sell_inventory_messages = nil %}{% assign zp_cross_sell_image_type = 'product' %}{% assign zp_cross_sell_discount_data = '' %}{% assign zp_cross_sell_show_quantity = true %}{% assign zp_cross_sell_view_type = 'crosssellproduct' %}{% assign zp_cross_sell_product_found = false %}{% assign zp_cross_sell_unit_price_tag_included = false %}{% assign zp_cross_sell_image_lazy_load = false %}