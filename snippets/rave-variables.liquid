{%- comment -%}
  RAVE YOGA: Custom CSS Variables
  This file defines custom CSS properties for the Rave Yoga brand and maps them
  to Dawn's global CSS variables where appropriate.
  It uses color settings defined in Theme Settings -> Rave Brand Settings.
{%- endcomment -%}

{%- liquid
  assign rave_color_primary_text = settings.rave_color_primary_text | default: '#3D2120'
  assign rave_color_secondary_text = settings.rave_color_secondary_text | default: '#555555'
  assign rave_color_accent = settings.rave_color_accent | default: '#412F26'
  assign rave_color_background_main = settings.rave_color_background_main | default: '#FFFFFF'
  assign rave_color_button_text = settings.rave_color_button_text | default: '#FFFFFF'

  assign rave_font_stack_primary = settings.font_heading.family | append: ', ' | append: settings.font_heading.fallback_families
  assign rave_font_stack_secondary = settings.font_body.family | append: ', ' | append: settings.font_body.fallback_families
-%}

<style>
  :root {
    /* Rave Custom Properties */
    --rave-color-primary-text: {{ rave_color_primary_text }};
    --rave-color-secondary-text: {{ rave_color_secondary_text }};
    --rave-color-accent: {{ rave_color_accent }};
    --rave-color-background-main: {{ rave_color_background_main }};
    --rave-color-button-text: {{ rave_color_button_text }};

    --rave-font-stack-primary: 'Inter', Arial, sans-serif;
    --rave-font-stack-secondary: 'Inter', Arial, sans-serif;

    /* Potential additional global variables for Rave */
    /* --rave-spacing-unit: 0.5rem; */
    /* --rave-container-max-width: 1200px; */

    /* Overriding Dawn's Global Variables with Rave Brand Values */
    /* Text */
    --color-text: var(--rave-color-primary-text);
    --color-text-opacity-50: {{ rave_color_primary_text | color_modify: 'alpha', 0.5 }};
    --color-text-opacity-25: {{ rave_color_primary_text | color_modify: 'alpha', 0.25 }};
    --color-text-opacity-10: {{ rave_color_primary_text | color_modify: 'alpha', 0.1 }};
    --color-body-text: var(--rave-color-primary-text); /* Often same as --color-text, but can be distinct */

    /* Backgrounds */
    --color-background: var(--rave-color-background-main);
    --color-background-opacity-50: {{ rave_color_background_main | color_modify: 'alpha', 0.5 }};
    --color-background-opacity-25: {{ rave_color_background_main | color_modify: 'alpha', 0.25 }};
    --color-background-opacity-10: {{ rave_color_background_main | color_modify: 'alpha', 0.1 }};

    /* Accents & Buttons */
    --color-accent-1: var(--rave-color-accent);
    /* --color-accent-2: var(--rave-color-secondary-accent); /* If you define a secondary accent */
    --color-button: var(--rave-color-accent);
    --color-button-text: var(--rave-color-button-text);

    /* Borders & Dividers */
    --color-border: {{ rave_color_secondary_text | color_modify: 'alpha', 0.3 }};
    --color-divider: {{ rave_color_secondary_text | color_modify: 'alpha', 0.2 }};

    /* Forms (Example - adjust as needed) */
    --color-inputs-background: var(--rave-color-background-main);
    --color-inputs-text: var(--rave-color-primary-text);
    --color-inputs-border: {{ rave_color_secondary_text | color_modify: 'alpha', 0.4 }};
    --color-inputs-border-hover: var(--rave-color-secondary-text);

    /* Links */
    --color-link: var(--rave-color-primary-text);
    --color-link-hover: var(--rave-color-accent);

    /* Header (Example mapping - Dawn structure might vary slightly) */
    --color-header-background: var(--rave-color-background-main);
    --color-header-text: var(--rave-color-primary-text);
    --color-header-border: {{ rave_color_secondary_text | color_modify: 'alpha', 0.1 }};

    /* Footer (Example mapping) */
    --color-footer-background: var(--rave-color-background-main);
    --color-footer-text: var(--rave-color-primary-text);
    --color-footer-border: {{ rave_color_secondary_text | color_modify: 'alpha', 0.1 }};

    /* Typography - These will primarily be controlled by Theme Settings > Typography */
    /* but we can ensure our custom var reflects that choice if needed for specific overrides */
    --font-heading-family: var(--rave-font-stack-primary);
    --font-body-family: var(--rave-font-stack-secondary);
  }
</style>
