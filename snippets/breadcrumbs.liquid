{% comment %}
  Renders breadcrumb navigation
  
  Usage:
  {% render 'breadcrumbs' %}
{% endcomment %}

<nav class="breadcrumbs" role="navigation" aria-label="Breadcrumb">
  <ol class="breadcrumbs__list">
    <li class="breadcrumbs__item">
      <a href="{{ routes.root_url }}" class="breadcrumbs__link">
        Home
      </a>
      <span class="breadcrumbs__separator" aria-hidden="true">›</span>
    </li>

    {% if template.name == 'product' %}
      {% if collection %}
        <li class="breadcrumbs__item">
          <a href="{{ collection.url }}" class="breadcrumbs__link">
            {{ collection.title }}
          </a>
          <span class="breadcrumbs__separator" aria-hidden="true">›</span>
        </li>
      {% elsif product.collections.size > 0 %}
        <li class="breadcrumbs__item">
          <a href="{{ product.collections.first.url }}" class="breadcrumbs__link">
            {{ product.collections.first.title }}
          </a>
          <span class="breadcrumbs__separator" aria-hidden="true">›</span>
        </li>
      {% endif %}
      
      <li class="breadcrumbs__item breadcrumbs__item--current">
        <span class="breadcrumbs__text" aria-current="page">
          {{ product.title }}
        </span>
      </li>

    {% elsif template.name == 'collection' %}
      <li class="breadcrumbs__item breadcrumbs__item--current">
        <span class="breadcrumbs__text" aria-current="page">
          {{ collection.title }}
        </span>
      </li>

    {% elsif template.name == 'page' %}
      <li class="breadcrumbs__item breadcrumbs__item--current">
        <span class="breadcrumbs__text" aria-current="page">
          {{ page.title }}
        </span>
      </li>

    {% elsif template.name == 'blog' %}
      <li class="breadcrumbs__item breadcrumbs__item--current">
        <span class="breadcrumbs__text" aria-current="page">
          {{ blog.title }}
        </span>
      </li>

    {% elsif template.name == 'article' %}
      <li class="breadcrumbs__item">
        <a href="{{ blog.url }}" class="breadcrumbs__link">
          {{ blog.title }}
        </a>
        <span class="breadcrumbs__separator" aria-hidden="true">›</span>
      </li>
      
      <li class="breadcrumbs__item breadcrumbs__item--current">
        <span class="breadcrumbs__text" aria-current="page">
          {{ article.title }}
        </span>
      </li>
    {% endif %}
  </ol>
</nav>
