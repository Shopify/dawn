{{ 'section-texts-and-button.css' | asset_url | stylesheet_tag }}

<section
  class="text-button-section"
  style="--pt-mobile: {{ section.settings.padding_top_mobile }}px; --pb-mobile: {{ section.settings.padding_bottom_mobile }}px; --pt-desktop: {{ section.settings.padding_top_desktop }}px; --pb-desktop: {{ section.settings.padding_bottom_desktop }}px;"
>
  <div class="page-width">
    <div class="tb-wrapper">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'text' %}
            <animated-text
              class="tb-text"
              data-size-mobile="{{ block.settings.size_mobile }}"
              data-size-desktop="{{ block.settings.size_desktop }}"
              data-align-mobile="{{ block.settings.align_mobile }}"
              data-align-desktop="{{ block.settings.align_desktop }}"
              effect="{{ block.settings.animation_effect }}"
              duration="{{ block.settings.animation_duration }}"
              delay="{{ block.settings.animation_delay }}"
              {{ block.shopify_attributes }}
            >
              {{ block.settings.content }}
            </animated-text>

          {% when 'button' %}
            <div class="tb-button"
                 style="--align-mobile: {{ block.settings.align_mobile }}; --align-desktop: {{ block.settings.align_desktop }};"
                 {{ block.shopify_attributes }}>
              {% assign btn_classes = 'button' %}
              {% if block.settings.style != blank %}
                {% assign btn_classes = btn_classes | append: ' ' | append: block.settings.style %}
              {% endif %}
              <a class="{{ btn_classes }}" href="{{ block.settings.link | default: '#' }}">
                {{ block.settings.label | escape }}
              </a>
            </div>
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</section>

<script src="{{ 'section-texts-and-button.js' | asset_url }}" defer="defer"></script>

{% schema %}
{
  "name": "Teksty + Przycisk",
  "tag": "section",
  "class": "section text-button-section",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "text",
      "name": "Tekst",
      "limit": 2,
      "settings": [
        { "type": "richtext", "id": "content", "label": "Treść", "default": "<p>Przykładowy tekst</p>" },
        { "type": "select", "id": "size_mobile", "label": "Rozmiar (mobile)", "default": "base",
          "options": [
            { "value": "xs", "label": "XS" }, { "value": "sm", "label": "SM" }, { "value": "base", "label": "Base" },
            { "value": "lg", "label": "LG" }, { "value": "xl", "label": "XL" }, { "value": "2xl", "label": "2XL" }, { "value": "3xl", "label": "3XL" }
          ]
        },
        { "type": "select", "id": "size_desktop", "label": "Rozmiar (desktop)", "default": "lg",
          "options": [
            { "value": "xs", "label": "XS" }, { "value": "sm", "label": "SM" }, { "value": "base", "label": "Base" },
            { "value": "lg", "label": "LG" }, { "value": "xl", "label": "XL" }, { "value": "2xl", "label": "2XL" }, { "value": "3xl", "label": "3XL" }
          ]
        },
        { "type": "select", "id": "align_mobile", "label": "Wyrównanie (mobile)", "default": "left",
          "options": [
            { "value": "left", "label": "Lewo" }, { "value": "center", "label": "Środek" }, { "value": "right", "label": "Prawo" }
          ]
        },
        { "type": "select", "id": "align_desktop", "label": "Wyrównanie (desktop)", "default": "left",
          "options": [
            { "value": "left", "label": "Lewo" }, { "value": "center", "label": "Środek" }, { "value": "right", "label": "Prawo" }
          ]
        },
        { "type": "select", "id": "animation_effect", "label": "Efekt animacji", "default": "fade",
          "options": [
            { "value": "fade", "label": "Fade-in" },
            { "value": "slide-up", "label": "Slide-up" },
            { "value": "slide-left", "label": "Slide-left" },
            { "value": "slide-right", "label": "Slide-right" }
          ]
        },
        { "type": "range", "id": "animation_duration", "label": "Czas trwania (ms)", "default": 600, "min": 100, "max": 2000, "step": 50 },
        { "type": "range", "id": "animation_delay", "label": "Opóźnienie (ms)", "default": 0, "min": 0, "max": 2000, "step": 50 }
      ]
    },
    {
      "type": "button",
      "name": "Przycisk",
      "limit": 1,
      "settings": [
        { "type": "text", "id": "label", "label": "Etykieta", "default": "Zobacz więcej" },
        { "type": "url", "id": "link", "label": "Link" },
        { "type": "select", "id": "style", "label": "Styl przycisku (Dawn)", "default": "",
          "options": [
            { "value": "", "label": "Primary (domyślny)" },
            { "value": "button--secondary", "label": "Secondary" },
            { "value": "button--tertiary", "label": "Tertiary" }
          ]
        },
        { "type": "select", "id": "align_mobile", "label": "Wyrównanie (mobile)", "default": "left",
          "options": [
            { "value": "left", "label": "Lewo" }, { "value": "center", "label": "Środek" }, { "value": "right", "label": "Prawo" }
          ]
        },
        { "type": "select", "id": "align_desktop", "label": "Wyrównanie (desktop)", "default": "left",
          "options": [
            { "value": "left", "label": "Lewo" }, { "value": "center", "label": "Środek" }, { "value": "right", "label": "Prawo" }
          ]
        }
      ]
    }
  ],
  "settings": [
    { "type": "range", "id": "padding_top_mobile", "label": "Odstęp od góry (mobile)", "default": 24, "min": 0, "max": 120, "step": 4 },
    { "type": "range", "id": "padding_bottom_mobile", "label": "Odstęp od dołu (mobile)", "default": 24, "min": 0, "max": 120, "step": 4 },
    { "type": "range", "id": "padding_top_desktop", "label": "Odstęp od góry (desktop)", "default": 48, "min": 0, "max": 200, "step": 4 },
    { "type": "range", "id": "padding_bottom_desktop", "label": "Odstęp od dołu (desktop)", "default": 48, "min": 0, "max": 200, "step": 4 }
  ],
  "presets": [{ "name": "Teksty + Przycisk" }]
}
{% endschema %}