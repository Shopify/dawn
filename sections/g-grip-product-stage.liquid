{% schema %}
{
  "name": "G-Grip Product Stage",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "The World's First Intelligent Golf Club"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Sub-heading",
      "default": "Master Your Swing"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Experience the future of golf technology.</p>"
    },
    {
      "type": "image_picker",
      "id": "image_watch",
      "label": "Watch Image (Left)"
    },
    {
      "type": "image_picker",
      "id": "image_grip",
      "label": "Grip Image (Center)"
    },
    {
      "type": "image_picker",
      "id": "image_phone",
      "label": "Phone Image (Right)"
    }
  ],
  "presets": [
    {
      "name": "G-Grip Product Stage"
    }
  ]
}
{% endschema %}

{% style %}
  .section-{{ section.id }}-wrapper {
    background-color: #000000;
    padding: 80px 0;
    position: relative;
    overflow: hidden;
  }

  /* The Glow Effect */
  .section-{{ section.id }}-wrapper::after {
    content: "";
    position: absolute;
    bottom: -100px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 300px;
    background: radial-gradient(circle, rgba(255, 87, 51, 0.4) 0%, rgba(255, 87, 51, 0) 70%);
    z-index: 0;
    pointer-events: none;
  }

  .g-stage-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .g-stage-header {
    margin-bottom: 60px;
    max-width: 800px;
  }

  .g-stage-subheading {
    color: #FF5733;
    font-size: 1.4rem;
    text-transform: uppercase;
    font-weight: bold;
    margin-bottom: 15px;
    letter-spacing: 1px;
  }

  .g-stage-heading {
    color: #FFFFFF;
    font-size: 4.2rem;
    font-weight: bold;
    margin-top: 0;
    margin-bottom: 20px;
    line-height: 1.1;
  }

  .g-stage-description {
    color: #CCCCCC;
    font-size: 1.8rem;
    line-height: 1.6;
  }

  .g-stage-scene {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 40px;
    width: 100%;
    flex-wrap: wrap; /* Allow stacking on mobile */
  }

  .stage-item-watch,
  .stage-item-grip,
  .stage-item-phone {
    flex: 0 1 auto;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  /* Default Image Styling */
  .stage-item-watch img,
  .stage-item-grip img,
  .stage-item-phone img {
    display: block;
    height: auto;
    max-width: 100%;
    border-radius: 12px; /* Consistent radius */
  }

  /* Specific sizing for desktop layout logic */
  .stage-item-grip {
    width: 40%; /* Central focus */
    z-index: 2;
  }

  .stage-item-watch,
  .stage-item-phone {
    width: 25%;
    z-index: 1;
  }

  /* Floating effect adjustments (alignment) */
  /* The request says Watch and Phone should be vertically centered relative to the Grip. Flexbox align-items: center handles this by default. */

  @media screen and (max-width: 749px) {
    .g-stage-scene {
      flex-direction: column;
      gap: 30px;
    }

    /* Stack order: Watch Top, Grip Middle, Phone Bottom */
    .stage-item-watch {
      order: 1;
      width: 60%;
    }
    .stage-item-grip {
      order: 2;
      width: 80%;
    }
    .stage-item-phone {
      order: 3;
      width: 60%;
    }

    .g-stage-heading {
      font-size: 3.0rem;
    }
  }

{% endstyle %}

<div class="section-{{ section.id }}-wrapper">
  <div class="g-stage-container">
    <div class="g-stage-header">
      {% if section.settings.subheading != blank %}
        <div class="g-stage-subheading">{{ section.settings.subheading }}</div>
      {% endif %}
      {% if section.settings.heading != blank %}
        <h2 class="g-stage-heading">{{ section.settings.heading }}</h2>
      {% endif %}
      {% if section.settings.description != blank %}
        <div class="g-stage-description">{{ section.settings.description }}</div>
      {% endif %}
    </div>

    <div class="g-stage-scene">
      <div class="stage-item-watch">
        {% if section.settings.image_watch != blank %}
          {{ section.settings.image_watch | image_url: width: 400 | image_tag:
            loading: 'lazy',
            sizes: '(min-width: 750px) 25vw, 60vw'
          }}
        {% else %}
          {{ 'product-1' | placeholder_svg_tag }}
        {% endif %}
      </div>

      <div class="stage-item-grip">
        {% if section.settings.image_grip != blank %}
          {{ section.settings.image_grip | image_url: width: 600 | image_tag:
            loading: 'lazy',
            sizes: '(min-width: 750px) 40vw, 80vw'
          }}
        {% else %}
          {{ 'product-2' | placeholder_svg_tag }}
        {% endif %}
      </div>

      <div class="stage-item-phone">
        {% if section.settings.image_phone != blank %}
          {{ section.settings.image_phone | image_url: width: 400 | image_tag:
            loading: 'lazy',
            sizes: '(min-width: 750px) 25vw, 60vw'
          }}
        {% else %}
          {{ 'product-3' | placeholder_svg_tag }}
        {% endif %}
      </div>
    </div>
  </div>
</div>
