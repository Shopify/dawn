{% schema %}
{
  "name": "G-Grip Feature Row",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Sub-heading",
      "default": "Sub-heading"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Feature Heading"
    },
    {
      "type": "richtext",
      "id": "text",
      "label": "Body Text",
      "default": "<p>Feature description goes here.</p>"
    },
    {
      "type": "checkbox",
      "id": "layout_flip",
      "label": "Flip Layout",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "G-Grip Feature Row"
    }
  ]
}
{% endschema %}

{% style %}
  .section-{{ section.id }}-padding {
    padding-top: 100px;
    padding-bottom: 100px;
    background-color: #000000;
  }

  .g-grip-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  .g-grip-row {
    display: flex;
    align-items: center;
    gap: 40px;
    flex-direction: column;
  }

  @media screen and (min-width: 750px) {
    .g-grip-row {
      flex-direction: row;
    }

    {% if section.settings.layout_flip %}
    .section-{{ section.id }}-padding .g-grip-row {
      flex-direction: row-reverse;
    }
    {% endif %}
  }

  .g-grip-image-wrapper {
    flex: 1;
    width: 100%;
  }

  .g-grip-image {
    width: 100%;
    height: auto;
    border-radius: 16px;
    border: 1px solid #222222;
    display: block;
  }

  /* Handle SVG placeholder */
  svg.g-grip-image {
    background-color: #333;
    fill: #666;
  }

  .g-grip-content {
    flex: 1;
    color: #CCCCCC;
    text-align: left;
  }

  .g-grip-subheading {
    color: #ff7700;
    font-size: 1.4rem;
    text-transform: uppercase;
    margin-bottom: 10px;
    font-weight: bold;
    letter-spacing: 1px;
  }

  .g-grip-heading {
    color: #FFFFFF;
    font-size: 3.6rem;
    font-weight: bold;
    margin-bottom: 20px;
    line-height: 1.2;
    margin-top: 0;
  }

  .g-grip-text {
    color: #CCCCCC;
    font-size: 1.6rem;
    line-height: 1.6;
  }

  .g-grip-text p {
      margin-bottom: 1em;
  }
{% endstyle %}

<div class="section-{{ section.id }}-padding">
  <div class="g-grip-container">
    <div class="g-grip-row">
      <div class="g-grip-image-wrapper">
        {% if section.settings.image != blank %}
          {{ section.settings.image | image_url: width: 800 | image_tag:
            loading: 'lazy',
            class: 'g-grip-image',
            sizes: '(min-width: 750px) 50vw, 100vw',
            widths: '375, 550, 750, 1100, 1500'
          }}
        {% else %}
          {{ 'image' | placeholder_svg_tag: 'g-grip-image' }}
        {% endif %}
      </div>
      <div class="g-grip-content">
        {% if section.settings.subheading != blank %}
          <div class="g-grip-subheading">{{ section.settings.subheading }}</div>
        {% endif %}
        {% if section.settings.heading != blank %}
          <h2 class="g-grip-heading">{{ section.settings.heading }}</h2>
        {% endif %}
        <div class="g-grip-text">
          {{ section.settings.text }}
        </div>
      </div>
    </div>
  </div>
</div>
