{% schema %}
{
  "name": "All Products",
  "settings": [],
  "presets": [
    {
      "name": "All Products"
    }
  ]
}
{% endschema %}

<script src="{{ 'all-products.js' | asset_url }}" defer="defer"></script>
{% comment %}
  {% javascript %}
  {% endjavascript %}
{% endcomment %}

{{ 'all-products.css' | asset_url | stylesheet_tag }}

<section class="all-products-section">
  <div class="container">
    <h2>All Products</h2>
    <div class="all-products-grid">
      {% for product in collections.all.products %}
        <div class="all-product-card">
          <a href="{{ product.url }}">
            <img
              src="{{ product.featured_image | img_url: '300x' }}"
              alt="{{ product.title }}"
              width="auto"
              height="auto"
              loading="lazy"
            >
            <h3>{{ product.title }}</h3>
            <p>{{ product.price | money }}</p>
          </a>
          <form class="product-form">
            <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
            <button type="submit">Add to Cart</button>
          </form>
        </div>
      {% endfor %}
    </div>
  </div>
</section>
