/* RAVE YOGA CUSTOM STYLES */
/* Styles for Rave Yoga Shopify Theme - Sprint 1 */

/* Import Google Fonts if necessary and not handled by theme settings */
/* @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap'); */

/* 1. Global Resets or Overrides (use sparingly) */
/* Example:
body {
  font-family: var(--font-body-family);
}
*/

/* 2. Rave Specific Reusable Utility Classes */
/* Example:
.rave-container {
  width: 100%;
  max-width: var(--rave-container-max-width, 1200px);
  margin-left: auto;
  margin-right: auto;
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}
*/

/* 3. Component/Section Specific Styles will be added below as developed */

/* == HOME PAGE == */

/* == COLLECTION PAGE == */

/* == PRODUCT PAGE == */

/* == HEADER == */

/* Apply Grid to header for split nav layout when logo is middle-center - DESKTOP ONLY */
@media screen and (min-width: 990px) {

  /* Dawn's desktop breakpoint */
  header.header--middle-center {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    /* Left Nav - Logo - Right Nav */
    align-items: center;
    width: 100%;
    /* Ensure header takes full width */
  }

  /* Target direct children for grid placement */
  header.header--middle-center>nav.header__inline-menu--left {
    grid-column: 1 / 2;
    justify-self: start;
    /* Align left nav to the start */
  }

  header.header--middle-center>.header__heading {
    grid-column: 2 / 3;
    justify-self: center;
    /* Center the logo */
  }

  header.header--middle-center>nav.header__inline-menu--right {
    grid-column: 3 / 4;
    justify-self: end;
    /* Align right nav to the end */
  }

  /* Hide original desktop nav containers if split nav is active */
  .header--middle-center header-navigation,
  .header--middle-center details-disclosure.header__menu {
    display: none;
  }

  /* Ensure split nav containers are visible (override default hides) */
  .header--middle-center .header__inline-menu {
    display: block;
    /* Or inline-block / flex depending on internal structure */
  }
}

/* Style for the navigation containers (applies to both desktop split and potentially mobile if needed, but primarily for desktop) */
.header__inline-menu ul {
  padding: 0;
  /* Remove default padding */
}

/* Style for the navigation links */
.header__inline-menu .header__menu-item {
  padding-left: 1.5rem;
  padding-right: 1.5rem;
  text-transform: uppercase;
  font-size: 0.8em;
  /* Adjust as needed */
  letter-spacing: 0.1em;
  /* Adjust as needed */
  color: var(--rave-color-primary-text, #3D2120);
  /* Use brand color */
}

.header__inline-menu .header__menu-item span {
  /* Add hover effect if needed */
}

/* Hide mobile menu toggle if desktop menu is split */
/* (May need refinement based on mobile design) */
/* 
@media screen and (min-width: 990px) {
  .header--middle-center header-drawer {
    display: none;
  }
}
*/

/* Mobile Header Specific Styles (below 749px) */
@media screen and (max-width: 749px) {

  /* Ensure header is a flex container for mobile if mobile_logo_position is 'left' */
  header.header--mobile-left {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  /* Elevate the entire header bar above the menu panel */
  header.header {
    position: relative;
    z-index: 101;
    /* Above menu panel (100) */
    /* Ensure background is set if it was transparent and menu shows through */
    background-color: rgb(var(--color-background));
    /* Or your desired header background */
  }

  /* Styles for when mobile logo is set to 'left' */
  header.header--mobile-left .header__heading {
    order: 1 !important;
    justify-self: start !important;
    /* Override potential grid centering */
    margin-left: 0 !important;
    /* Ensure no conflicting left margin */
    margin-right: auto !important;
    /* Push other items to the right in flex context */
  }

  header.header--mobile-left header-drawer {
    order: 2 !important;
    justify-self: end;
    margin-left: 0;
  }

  /* Make hamburger icon/button wider and ensure icon is centered */
  header.header summary.header__icon--menu {
    width: 5.5rem;
    /* Increased from Dawn's default 4.4rem, adjust as needed */
    height: 4.4rem;
    /* Keep height or adjust if necessary */
    padding: 0;
    /* Reset padding if any was added previously by us */
    display: flex;
    /* Enable flex to center icon */
    justify-content: center;
    align-items: center;
    /* z-index: 101; This is fine, it will be 101 within its parent stacking context */
    /* No change needed here as its parent header.header is now 101 */
  }

  /* Ensure logo also stays above the menu panel - REMOVED as parent header.header now handles this */
  /* header.header .header__heading {
    position: relative;
    z-index: 101; 
  } */

  /* Optional: Adjust SVG size within if needed, though default might be fine */
  /* header.header summary.header__icon--menu svg {
    width: 2.2rem; 
    height: 2.2rem; 
  } */

  /* General mobile header rules if not already covered or if mobile_logo_position is 'center' and needs override */
  /* For instance, if you want to force flex even for 'center' mobile logo, you'd add rules for header.header--mobile-center */

  /* Ensure our desktop split nav is hidden (though small-hide/medium-hide should cover it) */
  .header__inline-menu--left,
  .header__inline-menu--right {
    display: none !important;
    /* Important to override if other rules conflict */
  }

  /* Adjust logo size if needed for mobile */
  .header__heading-logo {
    max-width: 100px;
    /* Example: Adjust as per design. Current screenshot looks okay. */
    height: auto;
  }

  /* Mobile Menu Drawer - Slide from Top */
  /* Override Dawn's component-menu-drawer.css for slide-in direction */
  /* Add .js to match specificity of Dawn's rules */
  .js details[open].menu-opening>#menu-drawer.menu-drawer {
    transform: translateY(0%);
    visibility: visible;
    top: var(--header-bottom-position);
    height: calc(100vh - var(--header-bottom-position));
    transition: transform var(--duration-default) ease, visibility 0s ease 0s;
  }

  /* Base style for the menu drawer */
  .js #menu-drawer.menu-drawer {
    position: fixed;
    top: var(--header-bottom-position);
    left: 0;
    width: 100vw;
    height: auto;
    /* Allow content to determine height, max-height will control visibility */
    max-height: 0;
    /* Closed state */
    visibility: hidden;
    z-index: 100;
    overflow: hidden;
    /* Important for max-height animation */
    transition: max-height var(--duration-default) ease, visibility 0s ease var(--duration-default);
    border-right: none !important;
    box-shadow: none !important;
    filter: none !important;
    background-color: var(--rave-color-background-main, #FFFFFF) !important;
    /* Explicitly white or brand main bg */
  }

  .js #menu-drawer.menu-drawer .menu-drawer__inner-container {
    background-color: transparent !important;
    /* Ensure inner container doesn't add its own bg */
  }

  /* Open state of the menu drawer */
  .js details[open].menu-opening>#menu-drawer.menu-drawer {
    visibility: visible;
    max-height: calc(100vh - var(--header-bottom-position));
    /* Expand to fill space */
    transition: max-height var(--duration-default) ease, visibility 0s ease 0s;
  }

  /* Hide Dawn's default summary::before overlay when menu is open */
  .js header-drawer>details[open]>summary.header__icon--menu::before {
    display: none !important;
  }

  /* Try to make scrollbar track transparent to address grey box */
  .js #menu-drawer.menu-drawer::-webkit-scrollbar {
    width: 8px;
  }

  .js #menu-drawer.menu-drawer::-webkit-scrollbar-track {
    background: transparent;
  }

  .js #menu-drawer.menu-drawer::-webkit-scrollbar-thumb {
    background-color: rgba(var(--color-text), 0.5);
    border-radius: 4px;
  }

  /* Ensure inner menu elements also span full width and have no odd padding */
  .js #menu-drawer.menu-drawer .menu-drawer__inner-container,
  .js #menu-drawer.menu-drawer .menu-drawer__navigation {
    width: 100%;
    box-sizing: border-box;
    padding: 0;
  }

  /* Style the mobile menu list and items */
  .js #menu-drawer.menu-drawer ul.menu-drawer__menu {
    list-style: none;
    padding: 0;
    margin: 0;
    width: 100%;
    box-sizing: border-box;
  }

  .js #menu-drawer.menu-drawer ul.menu-drawer__menu>li {
    border-bottom: 1px solid var(--rave-color-primary-text, #3D2120);
    width: 100%;
    box-sizing: border-box;
  }

  .js #menu-drawer.menu-drawer ul.menu-drawer__menu>li:last-child {
    border-bottom: none;
  }

  .js #menu-drawer.menu-drawer .menu-drawer__menu-item {
    padding: 1.5rem 2rem;
    text-transform: uppercase;
    font-size: 1em;
    letter-spacing: 0.05em;
    color: var(--rave-color-primary-text, #3D2120) !important;
    text-decoration: none;
    display: block;
    background-color: transparent;
    font-weight: normal;
  }

  /* Active / Hover / Focus states for mobile menu items */
  .js #menu-drawer.menu-drawer .menu-drawer__menu-item--active,
  .js #menu-drawer.menu-drawer .menu-drawer__menu-item:hover,
  .js #menu-drawer.menu-drawer .menu-drawer__menu-item:focus {
    color: var(--rave-color-primary-text, #3D2120) !important;
    background-color: transparent !important;
    text-decoration: underline !important;
    text-underline-offset: 0.2em;
  }

  /* Styling for the X close button in the mobile menu (it is inside #menu-drawer > .menu-drawer__inner-container > summary.header__icon--menu) */
  /* The actual X is part of the hamburger summary, so it appears at the top of the screen, not within the scrolled menu */
  /* We already made the hamburger/summary wider. The X icon itself is an SVG. */
  /* Let's ensure the header itself has a background when menu is open, if X is part of header */
  header.header.menu-open {
    /* If header is sticky and menu slides under, ensure header has a background */
    /* background-color: var(--rave-color-background-main, #FFFFFF); */
  }

  /* The close button on the live site is within the menu panel. Dawn's is part of the hamburger. */
  /* For now, we rely on the hamburger toggle. A separate X button within the panel is a larger structural change. */

  /* Ensure the details summary (hamburger) z-index is high enough if menu is fixed */
  header-drawer>details>summary.header__icon--menu {
    position: relative;
    /* Needed for z-index to apply */
    z-index: 101;
    /* Higher than the fixed menu when closed, to ensure it's clickable */
  }

  /* Overlay: default one might be an issue with fixed menu. */
  /* This is Dawn's overlay, check if it needs adjustment or removal for fixed menu */
  /* .js menu-drawer > details[open]:not(.menu-opening) > summary::before {} */
}

/* Header bottom border style - Increased specificity and !important */
.header-wrapper.header-wrapper--border-bottom {
  border-bottom: 1px solid var(--rave-color-primary-text, #3D2120) !important;
  /* Use brand color & !important */
  position: relative;
  /* Try to force rendering context */
  z-index: 50;
  /* Ensure it's above basic page content but below sticky elements if needed */
}

/* == FOOTER == */

/* == MISC / SHARED COMPONENTS == */