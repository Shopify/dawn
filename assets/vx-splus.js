var N=Object.defineProperty;var W=(l,r,c)=>r in l?N(l,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):l[r]=c;var E=(l,r,c)=>W(l,typeof r!="symbol"?r+"":r,c);import{x as z,u as a,h as P,y as R,D as H}from"./vx-hooks.module.js";import{c as j,g as I,a as J}from"./vx-shopify-client.js";class O extends z{constructor(){super(...arguments);E(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(c){console.error("SPlus Error:",c)}render(){return this.state.hasError?null:this.props.children}}const C=({referenceIds:l})=>{const[r,c]=P(null),d=Q(),[L,T]=P(!0);return R(()=>{(async()=>{var s,b,v,k;try{const h=l.contents.map(e=>j.request(I,{variables:{id:e}})),x=(await Promise.all(h)).map(e=>e.data).filter(e=>e&&e.metaobject),f=[],w=[],y=x.map(e=>e==null?void 0:e.metaobject).filter(e=>!!e);for(const e of y)if(e)switch(e.type){case"ui_media":{const t=((s=e.fields.find(i=>i.key==="for_desktop"))==null?void 0:s.value)||"",n=((b=e.fields.find(i=>i.key==="for_mobile"))==null?void 0:b.value)||"";(t||n)&&f.push({metaobject:e,ids:[t,n].filter(Boolean),type:"media_list"});break}case"ui_fifty_fifty":{const t=((v=e.fields.find(n=>n.key==="media"))==null?void 0:v.value)||"";t&&f.push({metaobject:e,ids:[t],type:"media"});break}case"ui_swipeable":{const t=(k=e==null?void 0:e.fields[0])==null?void 0:k.value;if(t){const i=JSON.parse(t).map(p=>j.request(I,{variables:{id:p}}));w.push({metaobject:e,promise:Promise.all(i)})}break}}await Promise.all(w.map(async({metaobject:e,promise:t})=>{const i=(await t).map(o=>o.data).filter(o=>o&&o.metaobject),p=i.map(o=>{var u;return(u=o.metaobject.fields.find(S=>S.key==="media"))==null?void 0:u.value}).filter(Boolean);p.length>0&&f.push({metaobject:e,ids:p,type:"swipeable",blockData:i.map(o=>({metaobject:o.metaobject}))})}));const g=new Set;f.forEach(e=>e.ids.forEach(t=>g.add(t)));const m=new Map;if(g.size>0){const{data:e}=await j.request(J,{variables:{ids:Array.from(g)}});e!=null&&e.nodes&&e.nodes.forEach(t=>{t&&m.set(t.id,t)})}for(const e of f){const{metaobject:t,type:n}=e;t&&(n==="media_list"?t.actualMediaList=e.ids.map(i=>m.get(i)).filter(Boolean):n==="media"?t.actualMedia=e.ids.map(i=>m.get(i)).filter(Boolean):n==="swipeable"&&e.blockData&&(t.actualMediaList=e.ids.map(i=>m.get(i)).filter(Boolean),t.actualBlockDataList=e.blockData.map(i=>i.metaobject)))}y.length>0&&(c(y),setTimeout(()=>{T(!1)},500))}catch(h){console.log({error:h})}})()},[l]),a("div",{style:{opacity:L?0:1,translateY:L?"3rem":"0",filter:L?"blur(5px)":"blur(0)",transition:"all 0.5s ease-out"},children:r==null?void 0:r.map(s=>{var b,v,k,h,_,x,f,w,y,g,m;switch(s==null?void 0:s.type){case"ui_media":{const e=d?1:0;return s.actualMediaList?a("img",{style:{width:"100%",overflow:"hidden"},src:(v=(b=s.actualMediaList[e])==null?void 0:b.image)==null?void 0:v.url,alt:(h=(k=s.actualMediaList[e])==null?void 0:k.image)==null?void 0:h.altText}):null}case"ui_fifty_fifty":{const e=(_=s.fields.find(t=>t.key==="image_side"))==null?void 0:_.value;return s.actualMedia?a("section",{style:{display:"flex",alignItems:"center",flexDirection:d?"column":e==="Left"?"row":"row-reverse",margin:d?"2rem 0":"1rem 0"},children:[a("img",{style:{width:d?"100%":"50%"},src:(f=(x=s.actualMedia[0])==null?void 0:x.image)==null?void 0:f.url,alt:""}),a("div",{style:{maxWidth:d?"100%":"50%",padding:d?"2rem 0":"0rem 3rem"},children:[a("h2",{style:{fontSize:d?"2rem":"4rem",letterSpacing:d?"-1px":"-1.5px",fontWeight:"bold",margin:0},children:(w=s.fields.find(t=>t.key==="title"))==null?void 0:w.value}),a("p",{style:{letterSpacing:"0px",fontSize:d?"1.5rem":"1.8rem",color:"var(--gray-80)",marginTop:"5px",lineHeight:"180%"},children:(y=s.fields.find(t=>t.key==="description"))==null?void 0:y.value})]})]}):null}case"ui_swipeable":return a("div",{style:{margin:"4rem 0"},children:[a("h3",{style:{margin:"0rem",padding:"1rem 0.5rem"},children:(g=s.fields.find(e=>e.key==="title"))==null?void 0:g.value}),a("div",{style:{display:"flex",gap:"1.5rem",overflowX:"scroll",scrollSnapType:"x mandatory",width:"100%",padding:"1rem 0.5rem"},children:(m=s.actualBlockDataList)==null?void 0:m.map(e=>{var n,i,p,o;const t=(n=s.actualMediaList)==null?void 0:n.find(u=>{var S;return u.id===((S=e.fields.find(q=>q.key==="media"))==null?void 0:S.value)});return a("div",{className:"sheet",style:{minWidth:d?"75%":((i=s.actualBlockDataList)==null?void 0:i.length)==3?"32%":"24%",overflow:"hidden"},children:[a("img",{style:{width:"100%",maxHeight:"80%",objectFit:"cover"},src:t==null?void 0:t.image.url,alt:t==null?void 0:t.image.altText}),a("div",{style:{padding:"1.5rem"},children:[a("h3",{style:{margin:"0rem",textTransform:"uppercase",fontWeight:800,letterSpacing:"0px"},children:(p=e.fields.find(u=>u.key==="title"))==null?void 0:p.value}),a("p",{style:{margin:"0.5rem 0",letterSpacing:"0px",lineHeight:"157%",fontSize:"1.5rem",color:"var(--gray-70)"},children:(o=e.fields.find(u=>u.key==="description"))==null?void 0:o.value})]})]})})})]});default:return null}})})},F=l=>a(O,{children:a(C,{...l})}),Q=()=>{const[l,r]=P(!1);return R(()=>{window.innerWidth<768?r(!0):r(!1)},[]),l},M=document.getElementById("splus-root"),D=M==null?void 0:M.dataset.splusReferenceIds,B=JSON.parse(D);try{M&&D!=null&&B!=null&&"contents"in B&&B.contents.length>0&&H(a(F,{referenceIds:JSON.parse(D)}),M)}catch(l){console.error(l)}
